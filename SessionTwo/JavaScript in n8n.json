{
  "name": "JavaScript in n8n",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -736,
        480
      ],
      "id": "44267322-57fb-45f6-8e48-d00d98ff3b99",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"string\":\"hello!\",\n  \"number\":3.5,\n  \"array\":\n  [\"Ahmad\",\"Mohammad\",\"Ismail\"],\n  \"object\":{\n  \"firstName\":\"Mohammad\",\n  \"lastName\":\"Ismail\",\n  \"heightinCm\":169\n  },\n  \"bool\":true\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -512,
        480
      ],
      "id": "e5127a50-c2e9-4dc9-b336-708e5324fef8",
      "name": "Set Example Json"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "ee775268-de1a-46d2-91ee-45e337b1421e",
              "name": "Summay",
              "value": "# string functions \n## SUGGESTED\n1) includes() \n# Meaning: .includes() → checks if a string contains a specific substring. It returns true if found, false if not. \n# Use Case in n8n: Used in IF nodes, Set nodes, or expressions when you want to check if text includes certain words, patterns, or phrases.\n\n2) split()\n# Meaning: Splits a string into an array based on a separator (like space, comma, etc.).\n# Use Case in n8n: Used when you need to break text into parts — for example, splitting names, tags, or CSV-like data in a Set node or Function node.\n\n3.1) .startsWith()\n# Meaning: Checks if a string begins with a specific substring. Returns true/false.\n# Use Case in n8n: Used in IF nodes or Set nodes to filter or branch data — for example, checking if an email, filename, or message starts with a certain prefix.\n\n3.2) .endsWith()\n# Meaning: Checks if a string ends with a specific substring. Returns true/false.\n# Use Case in n8n: Used to detect file types, suffixes, or text endings.\n\n4) .replaceAll()\n# Meaning: Replaces all occurrences of a specific substring inside a string with another value.\n# Use Case in n8n: Used in Set or Function nodes to clean or format text, remove unwanted characters, or standardize data before passing it forward.\n\n5) .length (paramater)\n# Meaning: Returns the number of items in a string or array.\n  • For strings → number of characters.\n  • For arrays → number of elements.\n# Use Case in n8n: Used to count items or check if something is empty inside IF, Set, or Function nodes.\n\n## EDIT\n6.1) .base64Encode()\n# Meaning: Converts normal text into Base64 format — a way to represent binary/text data safely (used in APIs, files, images, etc.).\n# Use Case in n8n: Used when you need to encode text before sending it to another service (like an API that expects Base64).\n\n6.2) .base64Decode()\n# Meaning: Converts Base64 back to normal text.\n# Use Case in n8n: Used when you receive encoded data (like from a webhook or API) and need to make it readable or usable again.\n\n7) .concat()\n# Meaning: Joins (concatenates) two or more strings together into one.\n# Use Case in n8n: Used in Set nodes, Function nodes, or expressions to build messages, combine variables, or construct file names, URLs, or IDs dynamically.\n\n8) .extractDomain()\n# Meaning: Extracts the domain name from a URL or email.\n# Use Case in n8n: Used to identify or filter data by website or company domain.\n\n9) .extractEmail()\n# Meaning: Finds and returns an email address inside a text string.\n# Use Case in n8n: Used to clean or extract emails from messages, forms, or logs.\n\n10) .extractUrl()\n# Meaning: Finds and returns the first URL inside a text string.\n# Use Case in n8n: Used when you receive a message or API response containing links.\n\n11) .extractUrlPath()\n# Meaning: Extracts the path part of a URL (everything after the domain).\n# Use Case in n8n: Used to work with API endpoints or clean URLs for routing or analysis.\n\n12) .hash()\n# Meaning: Creates a hash value (a fixed-length encoded string) from your text — useful for encryption-like purposes or generating unique IDs. (It doesn’t decrypt — hashing is one-way.)\n# Use Case in n8n: Used when you need to anonymize, verify, or uniquely identify data — like generating consistent IDs, protecting sensitive info, or checking if data changed.\n\n13) .quote()\n# Meaning: Wraps your string in double quotes (\" \") — escapes any inner quotes if needed.\n# Use Case in n8n: Used when you need to format text for JSON, logs, or API requests, where strings must be wrapped in quotes.\n\n\n14) .removeMarkdown()\n# Meaning: Removes Markdown formatting from a string — like **bold**, _italic_, # headers, - lists, links, etc., leaving only plain text.\n# Use Case in n8n: Used when you need clean, plain text for emails, messages, databases, or APIs that don’t support Markdown.\n\n15) .removeTags()\n# Meaning: Removes HTML or XML tags from a string, leaving only plain text.\n# Use Case in n8n: Used when you need clean text from web pages, emails, or API responses that contain HTML.\n\n16) .replace()\n# Meaning: Replaces the first occurrence of a substring or pattern in a string with another value.\n# Use Case in n8n: Used when you want to modify text slightly — for example, replacing a single word, character, or placeholder before sending it to another node or API.\n\n17) .replaceSpecialChars()\n# Meaning: Replaces special characters (like !@#$%^&*()) with safe alternatives or removes them.\n# Use Case in n8n: Used when preparing clean text for filenames, URLs, IDs, or any system that cannot handle special characters.\n\n18) .slice()\n# Meaning: Returns a part of a string between start and end positions.\n  • start → index to begin extraction (0-based).\n  • end → index to stop extraction (not included).\n  • If end is omitted, extracts till the end.\n# Use Case in n8n: Used when you want to extract substrings like IDs, codes, prefixes, or portions of text in a Set or Function node.\n\n19) .substring()\n# Meaning: Returns a portion of a string between two indices.\n  • start → index to begin extraction (0-based).\n  • end → index to stop extraction (not included).\n  • Swaps start and end automatically if start > end.\n# Use Case in n8n: Used when you need to extract specific parts of text, like IDs, codes, or sections of a string in a Set or Function node.\n\n20) .toJsonString()\n# Meaning: Converts a JavaScript object or value into a JSON-formatted string.\n# Use Case in n8n: Used when you need to send data as JSON in HTTP requests, API calls, or logs, or when storing structured data as a single string.\n\n\n\n21) .trim()\n# Meaning: Removes whitespace from the start and end of a string.\n  • Does not remove spaces in the middle.\n# Use Case in n8n: Used when you need clean, trimmed text before saving, comparing, or sending data in Set, Function, or IF nodes.\n\n22.1) .trimStart()\n# Meaning: Removes whitespace only from the start of a string.\n# Use Case in n8n: Used when you want to clean leading spaces but keep trailing spaces intact.\n\n22.2) .trimEnd()\n# Meaning: Removes whitespace only from the end of a string.\n# Use Case in n8n: Used when you want to clean trailing spaces but keep leading spaces intact.\n\n23.1) .urlEncode()\n# Meaning: Converts a string into a URL-safe format, replacing spaces and special characters with % encoding.\n# Use Case in n8n: Used when sending data in query parameters or HTTP requests where URLs must be properly encoded.\n\n23.2) .urlDecode()\n# Meaning: Converts a URL-encoded string back into normal text.\n# Use Case in n8n: Used when receiving URL-encoded data from webhooks, APIs, or query parameters to make it readable or processable.\n\n24) .indexOf()\n# Meaning: Returns the position (index) of the first occurrence of a substring in a string.\n  • Returns -1 if the substring is not found.\n  • Indexing starts at 0.\n# Use Case in n8n: Used to check if a substring exists and find its position in a string — useful in IF nodes, Function nodes, or when manipulating text.\n\n25) .lastIndexOf()\n# Meaning: Returns the position (index) of the last occurrence of a substring in a string.\n  • Returns -1 if the substring is not found.\n  • Indexing starts at 0.\n# Use Case in n8n: Used when you want to find the last appearance of a word or character — useful in IF nodes, Function nodes, or text manipulation before slicing or extracting.\n\n26) .match() (https://regex101.com/)\n# Meaning: Searches a string for a pattern (usually a regular expression) and returns matches.\n  • Returns an array of matches or null if none found.\n# Use Case in n8n: Used when you need to extract specific patterns from text — like emails, phone numbers, codes, or any regex-based data — inside Function or Set nodes.\n\n27) .search()\n# Meaning: Searches a string for a pattern (string or regex) and returns the index of the first match.\n  • Returns -1 if the pattern is not found.\n# Use Case in n8n: Used when you want to find the position of a keyword or pattern in a string, often for IF node conditions or text processing.\n\n28) .isDomain()\n# Meaning: Checks if a string is a valid domain name (like example.com).\n  • Returns true if it is a valid domain, false otherwise.\n# Use Case in n8n: Used when you want to validate or filter domain names from URLs, emails, or user input — often in IF nodes or Function nodes.\n\n29) .isUrl()\n# Meaning: Checks if a string is a valid URL. Returns true/false.\n# Use Case in n8n: Used to validate URLs from webhooks, forms, or API responses before processing or routing in workflow nodes.\n\n30) .isEmail()\n# Meaning: Checks if a string is a valid email address. Returns true/false.\n# Use Case in n8n: Validate email inputs from forms, webhooks, or APIs before processing.\n\n31) .isEmpty()\n# Meaning: Checks if a string is empty (\"\") or only contains whitespace.\n# Use Case in n8n: Validate if a field has no content before sending, saving, or branching logic.\n\n32) .isNotEmpty()\n# Meaning: Checks if a string has content (opposite of .isEmpty()).\n# Use Case in n8n: Validate that a field contains meaningful data before proceeding.\n\n33) .isNumeric()\n# Meaning: Checks if a string represents a number (integer or decimal).\n# Use Case in n8n: Used to validate numeric input before calculations, database insertion, or API calls.\n\n34) .toLowerCase()\n# Meaning: Converts all letters in a string to lowercase.\n# Use Case in n8n: Used to normalize text for comparisons, searches, or consistent formatting in Set, Function, or IF nodes.\n\n35) .toUpperCase()\n# Meaning: Converts all letters in a string to uppercase.\n# Use Case in n8n: Used to normalize text or emphasize values for consistent formatting in Set, Function, or IF nodes.\n\n36) .toSentenceCase()\n# Meaning: Converts a string so that the first letter of the sentence is uppercase and the rest are lowercase.\n# Use Case in n8n: Used to format text neatly for messages, emails, or database entries in Set or Function nodes.\n\n37) .toSnakeCase()\n# Meaning: Converts a string to snake_case — lowercase words separated by underscores (_).\n# Use Case in n8n: Used when you need consistent naming for variables, filenames, database fields, or API parameters.\n\n38) .toTitleCase()\n# Meaning: Converts a string so that the first letter of each word is uppercase and the rest are lowercase.\n# Use Case in n8n: Used to format names, titles, or headings in Set or Function nodes for better readability and presentation.\n\n39) .parseJson()\n# Meaning: Converts a JSON-formatted string into a JavaScript object.\n# Use Case in n8n: Used when receiving JSON as a string (from APIs, webhooks, or text fields) and you need to access its properties.\n\n40) .toBoolean()\n# Meaning: Converts a string like \"true\"/\"false\" or numbers \"0\"/\"1\" into a Boolean value.\n# Use Case in n8n: Useful for IF nodes or logic operations where the input is a string but needs to be treated as true/false.\n\n41) .toDateTime()\n# Meaning: Converts a string into a Date object.\n# Use Case in n8n: Used when parsing dates from text, webhooks, or API responses for comparisons, filtering, or formatting.\n\n42) .toNumber()\n# Meaning: Converts a string into a numeric value (integer or decimal).\n# Use Case in n8n: Useful for calculations, comparisons, or numeric validation when input comes as a string.\n",
              "type": "string"
            },
            {
              "id": "d449ca94-d9ca-4820-b779-c14f148904d5",
              "name": "includes_Ex",
              "value": "={{ $json.string.includes('h') }}\n{{ $json.string.includes('X') }}",
              "type": "string"
            },
            {
              "id": "039f7205-a85c-4fed-b697-d870884bee2c",
              "name": "split_Ex",
              "value": "={{ $json.string.split(\"ll\") }}",
              "type": "string"
            },
            {
              "id": "fdd550bb-d50c-49bd-b482-3a68eecaef70",
              "name": "startsWith_endsWith_Ex",
              "value": "={{ $json.string.startsWith(\"h\")}}\n{{ $json.string.startsWith(\"x\")}}\n{{ $json.string.endsWith(\"!\") }}\n{{ $json.string.endsWith(\"x\") }}",
              "type": "string"
            },
            {
              "id": "62a2d3fe-dac9-475e-97e8-dbe07ce3c699",
              "name": "replaceall_Ex",
              "value": "={{ $json.string.replaceAll(\"l\",\"w\") }}",
              "type": "string"
            },
            {
              "id": "3257b0a5-6530-4c57-991d-9df044b29436",
              "name": "length_Ex",
              "value": "={{$json.string.length}}\n{{ $json.array.length }}",
              "type": "string"
            },
            {
              "id": "34db21d1-843d-43ce-a345-7bcfe2d6b836",
              "name": "base64Encode_base64Decode_Ex",
              "value": "={{ $json.string.base64Encode() }}\n{{ $json.string.base64Encode().base64Decode() }}",
              "type": "string"
            },
            {
              "id": "b3f1283b-97d3-4230-9194-df0249b7fabf",
              "name": "concat_EX",
              "value": "={{ $json.string.concat(\" world!\") }}\n{{ $json.string.concat([\" world!\",\" how are you!\" ]) }}\n",
              "type": "string"
            },
            {
              "id": "4c6cf910-77b6-4bc0-856b-c6510baa5aae",
              "name": "Extract_Ex",
              "value": "={{\"https://openai.com/blog\".extractDomain()}}\n{{ \"Contact us at info@pioneers.com\".extractEmail() }}\n{{ \"Check this: https://pioneers.ai/courses\".extractUrl() }}\n{{ \"https://pioneers.ai/courses/python\".extractUrlPath() }}",
              "type": "string"
            },
            {
              "id": "658cbd5a-a7b6-425d-b891-9f979d146997",
              "name": "hash_Ex",
              "value": "={{ $json.string.hash() }}",
              "type": "string"
            },
            {
              "id": "28c2e70a-94e1-425d-9698-59564750aefc",
              "name": "quote_Ex",
              "value": "={{'my name is \"Mohammad\"'.quote('_')}}",
              "type": "string"
            },
            {
              "id": "da174e1b-7c68-4373-b840-7638ee791db5",
              "name": "removeMarkdown_Ex",
              "value": "={{ ' ## Title **Hello** _World_'.removeMarkdown() }}",
              "type": "string"
            },
            {
              "id": "793b6d9a-ce03-4289-b5b3-d10215c632ab",
              "name": "removeTags_Ex",
              "value": "={{\"<p>Hello <b>World!</b></p>\".removeTags()}}",
              "type": "string"
            },
            {
              "id": "13ef559a-bed1-4a6e-85a3-0e512d5e8322",
              "name": "replace_Ex",
              "value": "={{ $json.string.replace('l','w') }}",
              "type": "string"
            },
            {
              "id": "d08a922a-8fc4-4a6d-802a-7570f1c1720e",
              "name": "replaceSpecialChars_Ex",
              "value": "={{ \"déjà\".replaceSpecialChars() }}",
              "type": "string"
            },
            {
              "id": "91675adf-532b-47b7-ab53-1e973b21ec7b",
              "name": "slice_Ex",
              "value": "={{ $json.string.slice(0,4) }}",
              "type": "string"
            },
            {
              "id": "311dbef6-c35a-48b9-af73-5f19c86e73d1",
              "name": "trim_start_endEx",
              "value": "={{ \"   Mohammad   \".trim() }}\n{{ \"\\n\\n\\t Mohammad   \".trim() }}\n{{ \"   Mohammad   \".trimStart() }}\n{{ \"\\n\\n\\t Mohammad   \".trimEnd() }}",
              "type": "string"
            },
            {
              "id": "c31aaf42-9379-4725-b477-709252f2f649",
              "name": "urlEncode_urlDecode_ex",
              "value": "={{ \"https://openai.com/mohammad ismail\".urlEncode() }}\n{{ \"https://openai.com/mohammad ismail\".urlEncode().urlDecode() }}",
              "type": "string"
            },
            {
              "id": "6c53101a-b797-4d1a-87fb-a002d433095e",
              "name": "indexOf_Ex",
              "value": "={{ $json.string.indexOf('l') }}\n{{ $json.string.indexOf('x') }}\n",
              "type": "string"
            },
            {
              "id": "8818d9f3-2a7a-482f-a659-70befb0ec1e8",
              "name": "lastindexOf_Ex",
              "value": "={{ $json.string.lastIndexOf('l') }}\n{{ $json.string.lastIndexOf('x') }}",
              "type": "string"
            },
            {
              "id": "26012d76-fb0a-444d-87ec-e147c8b8b1a3",
              "name": " match_Ex",
              "value": "={{\"hay man, how are you doing today?\".match(/hay/)}}",
              "type": "string"
            },
            {
              "id": "1fc447ac-e846-4e06-af51-d913c616fa75",
              "name": "search_Ex",
              "value": "={{ \"say hello world\".search(\"hello\") }}",
              "type": "string"
            },
            {
              "id": "03e0b8eb-5814-418f-b08a-1b43eb180187",
              "name": "isDomain_Ex",
              "value": "={{ \"openai.com\".isDomain() }}",
              "type": "string"
            },
            {
              "id": "481f3964-7c1e-448d-b848-1e334e577655",
              "name": "isUrl_Ex",
              "value": "={{ \"https://openai.com/\".isUrl() }}",
              "type": "string"
            },
            {
              "id": "2b89bb36-495a-4500-b7f2-74e9d271701c",
              "name": "isEmail_Ex",
              "value": "={{ \"user@example.com\".isEmail() }}",
              "type": "string"
            },
            {
              "id": "b91d7562-1fb8-4197-8653-dc9ba71b2f94",
              "name": "isEmpty_isNotEmpty_Ex",
              "value": "={{ \"\".isEmpty() }}\n{{ \"Mohammad\".isNotEmpty() }}",
              "type": "string"
            },
            {
              "id": "f01c768e-71ec-406b-b15e-1037a1f0f838",
              "name": "isNumeric_Ex",
              "value": "={{ \"3.522635\".isNumeric() }}",
              "type": "string"
            },
            {
              "id": "4e14e7ae-7fc5-46de-9de6-cb7ead8aaf2a",
              "name": "toLowerCase_Ex",
              "value": "={{ \"My Name Is Mohammad ISmail\".replaceAll(\" \",\"-\").toLowerCase() }}",
              "type": "string"
            },
            {
              "id": "2bbf1f94-add5-40a2-b393-89bcc9f7a99f",
              "name": "toUpperCase_Ex",
              "value": "={{ \"My Name Is Mohammad ISmail\".replaceAll(\" \",\"-\").toUpperCase() }}",
              "type": "string"
            },
            {
              "id": "e645e10c-450e-4839-a740-1064a55f17fb",
              "name": "toSentenceCase_Ex",
              "value": "={{ \"mohammad iSmail\".toSentenceCase() }}",
              "type": "string"
            },
            {
              "id": "c3549552-ec16-4d09-acfe-f94fc4d8ad8d",
              "name": "toSnakeCase_Ex",
              "value": "={{ \"Mohammad iSmail\".toSnakeCase() }}",
              "type": "string"
            },
            {
              "id": "89f23681-6a26-4046-9283-2b99461e2574",
              "name": "toTitleCase_Ex",
              "value": "={{ \"hello world from n8n\".toTitleCase() }}",
              "type": "string"
            },
            {
              "id": "acd3a533-b006-4d7f-8dc4-9787b3684bd4",
              "name": "parseJson_ex",
              "value": "={{\"{\\\"name\\\":\\\"mohammad\\\"}\".parseJson().name }}",
              "type": "string"
            },
            {
              "id": "071695b9-ad14-4bb1-9399-0137cd93f231",
              "name": "toBoolean_Ex",
              "value": "={{ '1'.toBoolean() }}\n{{ '0'.toBoolean() }}",
              "type": "string"
            },
            {
              "id": "a8a933b4-a13e-4f1b-8990-0f6705aa0c74",
              "name": "toDateTime_Ex",
              "value": "={{ \"10/18/2025\".toDateTime().toLocaleString() }}",
              "type": "string"
            },
            {
              "id": "07daa1e2-9b81-4d82-8692-42a9285141ab",
              "name": "toNumber_Ex",
              "value": "={{ \"2025\".toNumber()+5 }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        32
      ],
      "id": "804d2878-f549-4fdb-b278-9587d8821d61",
      "name": "String_Functions_Summary"
    },
    {
      "parameters": {
        "content": "## SUGGESTED\n{{ $json.string.includes() }}\n{{ $json.string.split() }}\n{{ $json.string.startsWith() }}\n{{ $json.string.endsWith() }}\n{{ $json.string.replaceAll() }}\n{{ $json.string.length }}\n\n## EDIT\n{{ $json.string.base64Decode() }}\n{{ $json.string.base64Encode() }}\n{{ $json.string.concat() }}\n{{ $json.string.extractDomain() }}\n{{ $json.string.extractEmail() }}\n{{ $json.string.extractUrl() }}\n{{ $json.string.extractUrlPath() }}\n{{ $json.string.hash() }}\n{{ $json.string.quote() }}\n{{ $json.string.removeMarkdown() }}\n{{ $json.string.removeTags() }}\n{{ $json.string.replace() }}\n{{ $json.string.replaceAll() }}\n{{ $json.string.replaceSpecialChars() }}\n{{ $json.string.slice() }}\n{{ $json.string.split() }}\n{{ $json.string.substring() }}\n{{ $json.string.toJsonString() }}\n{{ $json.string.trim() }}\n{{ $json.string.trimEnd() }}\n{{ $json.string.trimStart() }}\n{{ $json.string.urlDecode() }}\n{{ $json.string.urlEncode() }}\n\n",
        "height": 736,
        "width": 288
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        96
      ],
      "id": "3ea28030-3864-4aed-85cb-7ef41a26b45b",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "75f61d3d-5bc6-4186-b95e-0ab064e1ceb8",
              "name": "Summay",
              "value": "1) .round()\n# Meaning: Rounds a number to the nearest integer.\n# Use Case in n8n: Used when you need whole numbers for calculations, display, or IDs in Set or Function nodes.\n\n2) .floor()\n# Meaning: Rounds a number down to the nearest integer.\n# Use Case in n8n: Used when you want to always drop decimals (e.g., inventory, pricing, or indexing).\n\n3) .ceil()\n# Meaning: Rounds a number up to the nearest integer.\n# Use Case in n8n: Used when you want to always round up (e.g., shipping costs, quotas, or limits).\n\n4) .abs()\n# Meaning: Returns the absolute value of a number (removes the negative sign).\n# Use Case in n8n: Used when you need only positive numbers for calculations, differences, or comparisons in Set or Function nodes.\n\n5) .format()\n# Meaning: Formats a number into a string with specified formatting, like decimal places, commas, or currency symbols.\n# Use Case in n8n: Used when you want to display numbers in a readable or standardized way in emails, messages, or reports.\n\n6.1) .isOdd()\n# Meaning: Checks if a number is odd. Returns true or false.\n# Use Case in n8n: Used when you want to branch workflow logic based on odd numbers (e.g., alternating actions, validations).\n\n6.2) .isEven()\n# Meaning: Checks if a number is even. Returns true or false.\n# Use Case in n8n: Used when you want to branch workflow logic based on even numbers.\n\n7) .isInteger()\nMeaning: Checks if a number is a whole number (no decimals). Returns true or false.\nUse Case in n8n: Used to validate numeric input before processing, storing in databases, or performing calculations that require integers.\n\n8) .toBoolean()\n# Meaning: Converts a number into a Boolean:\n  • 0 → false\n  • Any other number → true\n# Use Case in n8n: Used for conditional logic when numbers determine workflow decisions.\n\n9) .toDateTime() (https://www.unixtimestamp.com/) add 000 after the time stamp\n# Meaning: Converts a number (timestamp) into a Date object.\n# Use Case in n8n: Used when handling timestamps from APIs or databases and converting them for filtering, formatting, or comparisons.\n\n10) .toLocaleString()\n# Meaning: Formats a number into a string with locale-specific formatting (commas, decimals, etc.).\n# Use Case in n8n: Used when displaying numbers readably in messages, emails, reports, or dashboards.\n\n11) .toString()\n# Meaning: Converts a number into a string.\n# Use Case in n8n: Used when you need to combine numbers with text, send them to APIs, or store as string values.\n",
              "type": "string"
            },
            {
              "id": "ebea560f-1e23-43ef-a11e-484c6773244d",
              "name": "round_Ex",
              "value": "={{ $json.number.round() }}",
              "type": "number"
            },
            {
              "id": "24df1890-6fd7-4212-9b4f-91cdbbfb62cf",
              "name": "floor_Ex",
              "value": "={{ $json.number.floor() }}",
              "type": "number"
            },
            {
              "id": "e0163976-7f53-49b8-9d73-1f060596e034",
              "name": "ceil_Ex",
              "value": "={{ $json.number.ceil() }}",
              "type": "number"
            },
            {
              "id": "9f874fb1-3914-4cee-bea6-4eba2a16865e",
              "name": "abs_Ex",
              "value": "={{ (-16).abs()+100 }}",
              "type": "number"
            },
            {
              "id": "8a008e98-a116-4bb4-8010-fe3508e8b75e",
              "name": "format_Ex",
              "value": "={{(962787499976).format('fr-FR') }}",
              "type": "string"
            },
            {
              "id": "b754b827-bcfb-425e-8b3d-7de8e4f6cb6f",
              "name": "isInteger_Ex",
              "value": "={{ (10).isInteger() }}",
              "type": "string"
            },
            {
              "id": "0011120a-ba84-45a3-9f95-6f5c13c4e4d0",
              "name": "isEven_isOdd_Ex",
              "value": "={{ (10).isEven()}}\n{{ (10).isOdd() }}",
              "type": "number"
            },
            {
              "id": "644d95a4-e761-4892-84fd-249edeb83b18",
              "name": "toBoolean_Ex",
              "value": "={{ (0).toBoolean()}} \n{{ (100).toBoolean()}} ",
              "type": "number"
            },
            {
              "id": "8bd44b5a-fef0-4d76-882d-ef4fb88fe5ea",
              "name": "toDateTime_Ex",
              "value": "={{ (1760791902000).toDateTime('ms') }}",
              "type": "number"
            },
            {
              "id": "5eb5b0a3-71fc-4bff-9c31-d4c907ac5e16",
              "name": "toLocalString_Ex",
              "value": "={{ (50050304).toLocaleString().concat(\" mohammad\") }}",
              "type": "number"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": true
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        208
      ],
      "id": "6eb89587-c02f-4ba3-9b0c-dd416e250546",
      "name": "Number_Functions_Summary"
    },
    {
      "parameters": {
        "content": "## SUGGESTED\n\n{{ $json.number.round() }}\n{{ $json.number.floor() }}\n{{ $json.number.ceil() }}\n\n## METHODS\n\n{{ $json.number.abs() }}\n{{ $json.number.ceil() }}\n{{ $json.number.floor() }}\n{{ $json.number.format() }}\n{{ $json.number.isEven() }}\n{{ $json.number.isOdd() }}\n{{ $json.number.isInteger() }}\n{{ $json.number.round() }}\n{{ $json.number.toBoolean() }}\n{{ $json.number.toDateTime() }}\n{{ $json.number.toLocaleString() }}\n{{ $json.number.toString() }}",
        "height": 464,
        "width": 352,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        592,
        96
      ],
      "id": "313fef3d-c49b-4d36-823c-8675745b9f21",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## QUERY\n{{ $json.string.endsWith() }}\n{{ $json.string.includes() }}\n{{ $json.string.indexOf() }}\n{{ $json.string.lastIndexOf() }}\n{{ $json.string.length }}\n{{ $json.string.match() }}\n{{ $json.string.search() }}\n{{ $json.string.startsWith() }}\n\n##  VALIDATE\n{{ $json.string.isDomain() }}\n{{ $json.string.isEmail() }}\n{{ $json.string.isEmpty() }}\n{{ $json.string.isNotEmpty() }}\n{{ $json.string.isNumeric() }}\n{{ $json.string.isUrl() }}\n\n## CASE\n{{ $json.string.toLowerCase() }}\n{{ $json.string.toSentenceCase() }}\n{{ $json.string.toSnakeCase() }}\n{{ $json.string.toTitleCase() }}\n{{ $json.string.toUpperCase() }}\n\n## CAST\n{{ $json.string.parseJson() }}\n{{ $json.string.toBoolean() }}\n{{ $json.string.toDateTime() }}\n{{ $json.string.toNumber() }}",
        "height": 736,
        "width": 272
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        304,
        96
      ],
      "id": "78cb66bd-56a9-4e47-ac1f-1565a964bfe5",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "# String Functions",
        "height": 80,
        "width": 576
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "3c71dd71-f46a-4252-addc-262e85e839c0",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "# Number Functions",
        "height": 80,
        "width": 352,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        592,
        0
      ],
      "id": "4f9ea2f4-f8b4-4cc2-b4c9-ee3062e1eeff",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9dac7e8e-9ecf-4bef-8770-73cd417f2b0f",
              "name": "Summary",
              "value": "1) .length\n# Meaning:Returns the number of elements in the array.\n# Use Case in n8n: Used to check array size before looping, filtering, or making decisions in IF or Function nodes.\n\n2.1) .first() \n# Meaning: Returns the first element of an array.\n# Use Case in n8n: Used when you want the earliest item or first value in a list, often for processing or routing in Set, Function, or IF nodes.\n\n2.2) .last()\n# Meaning: Returns the last element of the array.\n# Use Case in n8n: Used when you want the most recent item or last value in a list.\n\n3) .includes()\n# Meaning: Checks if the array contains a specific value. Returns true/false.\n# Use Case in n8n:Used to validate or filter data before proceeding in a workflow.\n\n4) .map(item => item)\n# Meaning: Creates a new array by transforming each element using a function.\n# Use Case in n8n: Used to modify array elements before passing to other nodes.\n\n5) .filter(item => true)\n# Meaning: Creates a new array with elements that match a condition.\n# Use Case in n8n: Used to remove unwanted items or keep only certain values in a workflow.\n\n6) .append(value) arrays can take multiple data types.\n# Meaning: Adds one or more elements to the end of an array.\n# Use Case in n8n: Used to dynamically add items to an array during workflow execution, for example when collecting results from multiple nodes before sending or processing them.\n\n7) .chunk(size)\n# Meaning: Splits an array into **smaller arrays** (chunks) of a specified size.\n# Use Case in n8n: Used when you need to **process or send array data in batches**, for example sending API requests in groups or handling large datasets step by step.\n\n8) .compact()\n# Meaning: Removes **falsy values** (`null`, `undefined`, `false`, `0`, `\"\"`, `NaN`) from an array.\n# Use Case in n8n: Used to **clean arrays** before processing, ensuring that only meaningful values are passed to other nodes.\n\n9) .concat(array2)\n# Meaning: Combines the **original array** with one or more arrays or values into a **new array**.\n# Use Case in n8n: Used to **merge multiple arrays** or add extra elements before sending data to other nodes or APIs.\n\n10) .difference(array2)\n# Meaning: Returns a new array containing elements from the **original array** that are **not present** in `array2`.\n# Use Case in n8n: Used to **filter out unwanted or duplicate items** when comparing arrays, for example removing already processed IDs or tasks.\n\n11) .find(item => true)\n# Meaning: Returns the **first element** in the array that **matches a condition** defined in the callback function.\n# Use Case in n8n: Used to **locate a specific item** in an array based on a condition, often for routing or extracting data in Function or IF nodes.\n\n12) .indexOf(value)\n# Meaning: Returns the **index (position)** of the **first occurrence** of a value in an array. Returns `-1` if the value is not found.\n# Use Case in n8n: Used to **check the position of an element** in an array or to determine if it exists before performing actions in IF or Function nodes.\n\n13) .intersection(array2)\n# Meaning: Returns a new array containing elements that are present in both arrays.\n# Use Case in n8n: Used to find common items between arrays, for example matching IDs, tags, or values from multiple sources.\n\n14.1) .isEmpty()\n# Meaning: Checks if an array **has no elements**. Returns `true` if empty, `false` otherwise.\n# Use Case in n8n: Used to **validate or branch workflow logic** based on whether an array contains any data.\n\n14.2) .isNotEmpty()\n# Meaning: Checks if an array **contains one or more elements**. Returns `true` if not empty, `false` otherwise.\n# Use Case in n8n: Used to **ensure there is data to process** before performing actions in Function or IF nodes.\n\n15) .join(separator)\n# Meaning: Converts an array into a **string**, joining elements with the specified separator (default is `,`).\n# Use Case in n8n: Used to **create a string from array elements**, for example sending CSV data or concatenating values for messages.\n\n\n16) .merge(array2)\n# Meaning: Combines the **original array** with another array into a **single array**.\n# Use Case in n8n: Used to **combine multiple arrays** before processing or sending to another node.\n\n17) .pluck(key)\n# Meaning: Extracts a specific **property value** from each object in an array.\n# Use Case in n8n: Used to **get a list of specific fields** from an array of objects.\n\n18) .randomItem()\n# Meaning: Returns a **random element** from the array.\n# Use Case in n8n: Used to **pick random items** for testing, sampling, or dynamic workflows.\n\n19) .reduce(item => item)\n# Meaning: Reduces the array to a **single value** using a function.\n# Use Case in n8n: Used to **aggregate array elements**, like summing numbers or concatenating strings.\n\n20) .renameKeys(mapping)\n# Meaning: Renames keys in an array of objects according to a **mapping object**.\n# Use Case in n8n: Used to **standardize or transform object keys** before sending to APIs or databases.\n\n21) .reverse()\n# Meaning: Reverses the **order of elements** in the array.\n# Use Case in n8n: Used to **process items from last to first** or reorder arrays for display.\n\n22) .slice(start, end)\n# Meaning: Returns a **portion of the array** from `start` to `end` (exclusive).\n# Use Case in n8n: Used to **extract specific segments** of an array for processing.\n\n23) .smartJoin(separator)\n# Meaning: Joins array elements into a **readable string** with smart separators (like commas and “and”).\n# Use Case in n8n: Used to **format array elements** nicely for messages or notifications.\n\n24) .sort(compareFn)\n# Meaning: Sorts the array **based on a comparison function**.\n# Use Case in n8n: Used to **order array elements** before processing or output.\n\n25) .toJsonString()\n# Meaning: Converts the array into a **JSON string**.\n# Use Case in n8n: Used when sending arrays to APIs or storing in text fields as JSON.\n\n26) .toSpliced(start, deleteCount, ...items)\n# Meaning: Creates a **new array** with elements **added/removed** at a specific position (does not mutate original).\n# Use Case in n8n: Used to **insert or remove items** from an array without changing the original data.\n\n27) .union(array2)\n# Meaning: Returns a new array containing **all unique elements** from both arrays.\n# Use Case in n8n: Used to **merge arrays** while avoiding duplicates.\n\n28) .unique()\n# Meaning: Returns a new array containing **only unique elements** (removes duplicates).\n# Use Case in n8n: Used to **clean arrays** and ensure no repeated values before processing.",
              "type": "string"
            },
            {
              "id": "48764d8c-89bd-4b26-b495-a70c40a3993e",
              "name": "length_Ex",
              "value": "={{ $json.array.length }}",
              "type": "array"
            },
            {
              "id": "808b777d-1d6c-4463-8214-8932d1f2dadb",
              "name": "last_first_Ex",
              "value": "={{ $json.array.first() }}\n{{ $json.array.last() }}",
              "type": "array"
            },
            {
              "id": "ddcab609-6339-4c6c-b26d-120a4cfd108e",
              "name": "includes_Ex",
              "value": "={{ $json.array.includes('Mohammad') }}\n{{ $json.array.includes('ABCD') }}\n",
              "type": "array"
            },
            {
              "id": "389df873-43af-402e-99b3-ab110b492739",
              "name": "append_Ex",
              "value": "={{ $json.array.append('Hassan') }}\n{{ $json.array.append([\"Hassan\",\"mahdi\",5]) }}",
              "type": "array"
            },
            {
              "id": "b4e5c3a1-7c73-4ca2-a315-06faba4862c5",
              "name": "chunk_Ex",
              "value": "={{ $json.array.chunk(2) }}",
              "type": "array"
            },
            {
              "id": "b69db277-8fd3-49f5-a0f8-3f27620570b5",
              "name": "compact_Ex",
              "value": "={{ [1,2,'',4,5,6].compact() }}",
              "type": "array"
            },
            {
              "id": "0a0b3662-036d-4a91-a245-f6e512614b15",
              "name": "concat_Ex",
              "value": "={{ [1,2,3,4,5,6].concat([7,8,9]) }}",
              "type": "array"
            },
            {
              "id": "c1c69683-9320-4da8-b0a1-b5226ff5e4fc",
              "name": "difference_Ex",
              "value": "={{ [1,2,3,4,5].difference([1,2,3]) }}",
              "type": "array"
            },
            {
              "id": "1a07000d-19a3-47f1-89cf-ba17ef37cf90",
              "name": "find_Ex",
              "value": "={{ $json.array.find(item => item.length > 6) }}",
              "type": "array"
            },
            {
              "id": "14b73428-fe26-44cb-ad03-edeab015db4b",
              "name": "indexOf_Ex",
              "value": "={{ $json.array.indexOf(\"Mohammad\") }}",
              "type": "array"
            },
            {
              "id": "05cb28bb-5d78-4403-8caa-2df45d093e50",
              "name": "intersection_Ex",
              "value": "={{ [1,2,3,4,5].intersection([3,4,5,6,7,8,9]) }}",
              "type": "array"
            },
            {
              "id": "b630ec83-1d5b-4859-b945-6abf424be328",
              "name": "isEmpty_isNotEmpty_Ex",
              "value": "={{ [].isEmpty() }}\n{{ [].isNotEmpty() }}",
              "type": "array"
            },
            {
              "id": "2fb20151-1308-4fe8-ac6b-e08a76de67f0",
              "name": "join_Ex",
              "value": "={{ $json.array.join(' | ') }}",
              "type": "array"
            },
            {
              "id": "65834cfd-10e8-4670-b33e-1cbc6e13aaef",
              "name": "merge_Ex",
              "value": "={{ \n[\n  {\"name\":\"mohammad\"},\n  {\"city\":\"amman\"},\n  {\"hight\":169}\n].merge() \n}}",
              "type": "array"
            },
            {
              "id": "cb805225-6d5f-40d7-9086-aa0b03c2d4da",
              "name": "pluck_Ex",
              "value": "={{[ \n  {\"name\":\"mohammad\"}, \n  {\"city\":\"amman\"},\n  {\"hight\":169} \n].pluck(\"name\")\n}}",
              "type": "array"
            },
            {
              "id": "834514de-afea-457e-af26-6bf25aed16a9",
              "name": "randomItem_Ex",
              "value": "={{ $json.array.randomItem() }}",
              "type": "array"
            },
            {
              "id": "3fb5ccc5-9b01-49db-a141-3814f8f0b45b",
              "name": "reverse_Ex",
              "value": "={{ $json.array.reverse() }}",
              "type": "array"
            },
            {
              "id": "ed2303e3-decd-4eea-b668-1aa984bb88dc",
              "name": "slice_Ex",
              "value": "={{ $json.array.slice(1,3) }}",
              "type": "array"
            },
            {
              "id": "a8445adf-d41a-475c-866d-a6fbc1ec8a73",
              "name": "smartJoin_Ex",
              "value": "={{ [{ field: 'age', value: 2 }, { field: 'city', value: 'Berlin' }].smartJoin('field', 'value') }}",
              "type": "array"
            },
            {
              "id": "8af591af-a007-4306-9af9-a9fa101fd499",
              "name": "sort_Ex",
              "value": "={{ $json.array.sort() }}\n{{ [4,5,7,4,3,7,9,0].sort() }}",
              "type": "array"
            },
            {
              "id": "5a751392-0d4e-4e18-9f15-116bf3b35061",
              "name": "toJsonString_Ex",
              "value": "={{ $json.array.toJsonString()}}",
              "type": "array"
            },
            {
              "id": "a039a24b-f15e-481d-8c40-5219a3fe5a20",
              "name": "toSpliced_Ex",
              "value": "={{ $json.array.toSpliced(2,3,\"hassan\") }}",
              "type": "array"
            },
            {
              "id": "7c3d6b6b-0385-407f-a682-9572077bbd7f",
              "name": "union_Ex",
              "value": "={{ [1,2,3,4,5].union([3,4,5,6,8]) }}",
              "type": "array"
            },
            {
              "id": "bc84bfee-5150-4ca9-80ed-dc07c4267af5",
              "name": "unique_Ex",
              "value": "={{ [1,2,4,6,7,4,6,7].unique() }}",
              "type": "array"
            },
            {
              "id": "0a0733fe-c5a9-4c57-912d-f73fb3b0c826",
              "name": " map_Ex_1",
              "value": "={{ $json.array.map(i => i.concat(\"@gmail.com\").toLowerCase()) }}",
              "type": "array"
            },
            {
              "id": "90766e88-578d-4b71-82e6-229df3135b10",
              "name": "map_Ex_2",
              "value": "={{ [1,2,3,4,5,6].map(i => i*5) }}",
              "type": "string"
            },
            {
              "id": "a978f583-028b-46e3-895a-3d0a199b8ea1",
              "name": "filter_Ex",
              "value": "={{ [1,2,3,4].filter(i => i >= 3) }}",
              "type": "string"
            },
            {
              "id": "a161a160-5676-4bb6-a323-ade753f090d9",
              "name": "",
              "value": "={{ [1,2,3,4,5].reduce((a, b) => a+b) }}",
              "type": "array"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": true
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        416
      ],
      "id": "76829e57-4a75-4f37-816b-d5b48888b4b8",
      "name": "Array_Functions_Summary"
    },
    {
      "parameters": {
        "content": "## SUGGESTED\n{{ $json.array.length }}\n{{ $json.array.last() }}\n{{ $json.array.includes() }}\n{{ $json.array.map(item => item) }}\n{{ $json.array.filter(item => true) }}\n \n## OTHER\n{{ $json.array.append() }}\n{{ $json.array.chunk() }}\n{{ $json.array.compact() }}\n{{ $json.array.concat() }}\n{{ $json.array.difference() }}\n{{ $json.array.find(item => true) }}\n{{ $json.array.first() }}\n{{ $json.array.indexOf() }}\n{{ $json.array.intersection() }}\n{{ $json.array.isEmpty() }}\n{{ $json.array.isNotEmpty() }}\n{{ $json.array.join() }}\n{{ $json.array.merge() }}\n{{ $json.array.pluck() }}\n{{ $json.array.randomItem() }}\n{{ $json.array.reduce(item => item) }}\n{{ $json.array.renameKeys() }}\n{{ $json.array.reverse() }}\n{{ $json.array.slice() }}\n{{ $json.array.smartJoin() }}\n{{ $json.array.sort() }}\n{{ $json.array.toJsonString() }}\n{{ $json.array.toSpliced() }}\n{{ $json.array.union() }}\n{{ $json.array.unique() }}",
        "height": 672,
        "width": 320,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        960,
        96
      ],
      "id": "8e0cc927-d24e-4886-ab88-b7090d0d7af1",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "# Array Functions",
        "height": 80,
        "width": 320,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        960,
        0
      ],
      "id": "d0a36521-0fc6-411c-b229-c059219e9a01",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "# Object Functions",
        "height": 80,
        "width": 336,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1296,
        0
      ],
      "id": "41d915e3-b711-4073-927c-d24e93ac393a",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "content": "## SUGGESTED METHODS\n{{ $json.object.keys() }}\n{{ $json.object.values() }}\n{{ $json.object.isEmpty() }}\n{{ $json.object.hasField() }}\n\n## OTHER METHODS\n{{ $json.object.compact() }}\n{{ $json.object.isNotEmpty() }}\n{{ $json.object.keepFieldsContaining() }}\n{{ $json.object.removeField() }}\n{{ $json.object.removeFieldsContaining() }}\n{{ $json.object.toJsonString() }}\n{{ $json.object.urlEncode() }}\n\n",
        "height": 336,
        "width": 336,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1296,
        96
      ],
      "id": "73061e30-ee42-4dd6-8531-354c28aba933",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8ebbe1e1-749e-4d0d-9f67-a931a03768e3",
              "name": "Summary",
              "value": "1) .keys()\n# Meaning: Returns an array of all the keys (property names) in an object.\n# Use Case in n8n: Used when you need to iterate, inspect, or manipulate object keys inside Function or Set nodes.\n\n2) .values()\n# Meaning: Returns an array of all the values in an object.\n# Use Case in n8n: Useful for looping through values or performing transformations on data extracted from JSON.\n\n3) .isEmpty()\n# Meaning: Checks if the object has no keys (empty). Returns true or false.\n# Use Case in n8n: Used to validate if a JSON object contains data before processing or branching workflows.\n\n4) .hasField()\n# Meaning: Checks if an object contains a specific field or property.\n# Use Case in n8n: Often used in IF or Switch nodes to verify if expected data fields exist before further actions.\n\n5) .compact()\n# Meaning: Removes any fields with null, undefined, or empty values from the object.\n# Use Case in n8n: Helps clean data before storing, exporting, or processing in integrations.\n\n6) .isNotEmpty()\n# Meaning: Checks if an object contains at least one field. Opposite of .isEmpty().\n# Use Case in n8n: Used to ensure a node’s output has valid data before continuing workflow execution.\n\n7) .keepFieldsContaining()\n# Meaning: Keeps only the fields in an object that match a specific substring or pattern.\n# Use Case in n8n: Useful when you want to retain only relevant data (e.g., fields containing “email” or “id”).\n\n8) .removeField()\n# Meaning: Removes a specific field from an object by key name.\n# Use Case in n8n: Used to clean sensitive or unnecessary data before sharing with other systems.\n\n9) .removeFieldsContaining()\n# Meaning: Removes all fields whose names contain a specific substring.\n# Use Case in n8n: Helps sanitize or simplify data structures by removing unwanted fields.\n\n10) .toJsonString()\n# Meaning: Converts an object into a JSON-formatted string.\n# Use Case in n8n: Used when sending data to APIs, storing in text fields, or logging structured data.\n\n11) .urlEncode()\n# Meaning: Encodes the object into a URL-safe format (query string style).\n# Use Case in n8n: Used when preparing data for HTTP requests or building dynamic URLs with parameters.\n\n",
              "type": "object"
            },
            {
              "id": "49dbfbc6-494e-478d-b118-fe542efdfadb",
              "name": "keys_Ex",
              "value": "={{ $json.object.keys() }}",
              "type": "object"
            },
            {
              "id": "8c2c61d9-505c-4be9-9922-5c36cd9156b9",
              "name": "values_Ex",
              "value": "={{ $json.object.values() }}",
              "type": "object"
            },
            {
              "id": "085097e0-a95b-4a78-ae0a-858e6afb443c",
              "name": "isEmpty_isNotEmpty_Ex",
              "value": "={{ $json.object.isEmpty() }}\n{{ $json.object.isNotEmpty() }}",
              "type": "object"
            },
            {
              "id": "ed2e86c0-c540-49fe-b27d-5538579d1888",
              "name": "hasField_Ex",
              "value": "={{ $json.object.hasField(\"firstName\") }}\n{{ $json.object.hasField(\"Age\") }}\n",
              "type": "object"
            },
            {
              "id": "6544a1ce-5191-40dd-81b7-e85fe06acf8e",
              "name": "compact_Ex",
              "value": "={{ {\"firstName\":\"mohammad\",\"lastname\":\"\"}.compact() }}",
              "type": "object"
            },
            {
              "id": "bac2901a-5997-46ba-8484-c42b58f8d14d",
              "name": "",
              "value": "={{ $json.object.keepFieldsContaining(\"Mohammad\") }}",
              "type": "object"
            },
            {
              "id": "4f3af5ea-1744-42b5-8ccb-5303966b4985",
              "name": "removeField_Ex",
              "value": "={{ $json.object.removeField(\"firstName\") }}",
              "type": "object"
            },
            {
              "id": "8fddb344-1309-486f-8815-1a199bf9df59",
              "name": "removeFieldsContaining_Ex",
              "value": "={{ $json.object.removeFieldsContaining(\"Moh\") }}",
              "type": "object"
            },
            {
              "id": "20d1542d-65d7-4fe9-a95f-c4468df4e51e",
              "name": "toJsonString",
              "value": "={{ $json.object.toJsonString() }}",
              "type": "object"
            },
            {
              "id": "f1819668-c24f-49c5-a498-90310d993bc0",
              "name": "urlEncode_Ex",
              "value": "={{ $json.object.urlEncode() }}",
              "type": "object"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": true
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        608
      ],
      "id": "59598180-1732-459f-8175-ed8424bcc77d",
      "name": "Object_Functions_Summary"
    },
    {
      "parameters": {
        "content": "# Expressions (explained)\n\nThis table shows common n8n expression patterns (the content in the image). n8n evaluates any expression wrapped in double curly braces `{{ ... }}`. Inside those braces you can read data from the current item, other nodes, call helper functions, do date formatting, run conditions, and more.\n\n## Quick syntax\n- Wrap any expression in `{{ ... }}`.\n- Use `$json` to access the current item's JSON.\n- Use `$node[\"NodeName\"].json` to access another node's output.\n- Use `$now` for the current date/time and format it with `.format(...)`.\n- Use JavaScript expressions (comparisons, ternary operator, arithmetic) inside the braces.\n\n---\n\n## Row-by-row explanation\n\n- Basic\n  - Example: `{{ $json[\"key\"] }}`\n  - What it does: returns the value of the property `key` from the current item’s JSON.\n\n- Node notation (accessing other node output)\n  - Example: `{{ $node[\"Other Node\"].json[\"value\"] }}`\n  - What it does: reads the field `value` from the output of the node named `Other Node`. Use the exact node name.\n\n- Date formatting\n  - Example: `{{ $now.format(\"YYYY-MM-DD\") }}`\n  - What it does: formats the current date/time. Use the supported format tokens (e.g., `YYYY`, `MM`, `DD`, `HH`, `mm`, `ss`).\n\n- Condition\n  - Example: `{{ $json[\"price\"] > 100 }}`\n  - What it does: evaluates to `true` or `false`. Useful in \"If\" nodes or to decide a value.\n\n- Ternary operator\n  - Example: `{{ $json[\"price\"] > 100 ? \"expensive\" : \"cheap\" }}`\n  - What it does: returns `\"expensive\"` when the condition is true, otherwise `\"cheap\"`.\n\n- Built-in methods\n  - Examples: `$jmespath(...)`, `$fromAll(...)`, `$max(...)`, `$min(...)`, ...\n  - What they do: helper functions provided by n8n for common transformations and queries. See the n8n docs for full list and usage:\n    - https://docs.n8n.io/code/builtin/data-transformation-functions/\n\n- Metadata / workflow variables\n  - Common names you can access inside expressions:\n    - `$execution` — execution-level data\n    - `$itemIndex` (or similar item index variable) — index of the current item\n    - `$input` — raw input data\n    - `$parameters` — node parameters (the values configured on the node)\n    - `$prevNode` / `$node` — access other nodes\n    - `$runIndex` / `$runIndex`-style — run counters\n    - `$today` / `$now` — date/time helpers\n    - `$vars` — workflow variables\n    - `$workflow` — workflow metadata\n    - `$nodeVersion` — node version info\n  - What they do: let you access execution, environment and workflow-related metadata inside expressions.\n\n---\n\n## Tips / best practices\n- Keep expressions small and test them in the node's UI (Expression editor) to confirm results.\n- When accessing another node, use the exact node name and the `.json[...]` path.\n- Use the ternary operator for simple conditional value selection.\n- For complex transformations, prefer built-in functions (`$jmespath`, `$fromAll`, etc.) or write a Function/Function Item node (JavaScript).\n- Refer to the official docs for the exact available helpers and up-to-date format tokens:\n  - https://docs.n8n.io/code/builtin/data-transformation-functions/\n",
        "height": 1520,
        "width": 1040,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1648,
        0
      ],
      "id": "c234c318-0e11-4d0f-b89b-afa1c2122f1d",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c6aa5d98-5e09-4217-804f-334bb6d225d4",
              "name": "Summary",
              "value": "1) .toNumber()\n# Meaning: Converts a boolean value to a number — `true` becomes `1`, and `false` becomes `0`.\n# Use Case in n8n: Used when performing mathematical operations or storing boolean data as numeric values (e.g., for APIs or databases).\n\n2) .toString()\n# Meaning: Converts a boolean value to its string representation — `\"true\"` or `\"false\"`.\n# Use Case in n8n: Useful when preparing boolean values for text fields, logs, or when concatenating with other strings.\n",
              "type": "string"
            },
            {
              "id": "e336f5c2-e86c-499c-926b-e2d7fec5be76",
              "name": "toNumber_Ex",
              "value": "={{ $json.bool.toNumber() }}\n",
              "type": "number"
            },
            {
              "id": "e1224a4e-6b41-4911-8e08-b031c7f252a7",
              "name": "toString_Ex",
              "value": "={{ $json.bool.toString() }}",
              "type": "string"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": true
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        816
      ],
      "id": "e914a393-b6c8-40a9-94d4-69443d697298",
      "name": "Boolean_Functions_Summary"
    },
    {
      "parameters": {
        "content": "# Boolean Functions",
        "height": 80,
        "width": 336,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1296,
        448
      ],
      "id": "f599ba0f-fc48-41b6-8299-3f8c4c947d5b",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "content": "{{ $json.bool.toNumber() }}\n{{ $json.bool.toString() }}",
        "height": 224,
        "width": 336,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1296,
        544
      ],
      "id": "ecb0b746-b5b2-4e09-83ee-a2297ff95efe",
      "name": "Sticky Note11"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1264fae0-cc4e-4dcb-8f6e-47ba83c39a63",
              "name": "Summary",
              "value": "1) .toDateTime().format('yyyy-MM-dd') (https://moment.github.io/luxon/#/formatting?id=table-of-tokens)\n# Meaning:\n  • .toDateTime() → Converts a string into a DateTime object that n8n can understand.\n  • .format('yyyy-MM-dd') → Formats that date into the specified pattern (e.g., 2025-10-08).\n# Use Case in n8n: Used to standardize date formats when handling timestamps from APIs or inputs — especially useful before comparing, filtering, or storing dates.\n\n2) .minus(4, 'hour')\n# Meaning: Subtracts 4 hours from the current date and time.\n# Use Case in n8n: Used to adjust timestamps backward — for example, to convert from UTC to a local timezone or check records from the past few hours.\n\n3) .plus(20, 'seconds')\n# Meaning: Adds 20 seconds to the current date and time.\n# Use Case in n8n: Used to schedule or offset timestamps forward, such as setting a short delay for time-based triggers or future actions.\n\n4) .diffTo(\"10/8/2025\".toDateTime(), 'days')\n# Meaning: Calculates the difference between two dates — in this case, between the current date and `\"10/8/2025\"` — measured in days.\n# Use Case in n8n: Used when you need to measure time gaps between two dates (e.g., to find how many days until a deadline, or how long ago something happened).\n\n5) .extract('hours')\n# Meaning: Extracts a specific part of a DateTime — here, it pulls out the hour from the current time.\n# Use Case in n8n:\nUsed when you need to get a specific time unit (like hour, minute, or day) for logic, scheduling, or conditions — for example, triggering an action only during certain hours.\n\n6) .startOf('month')\n# Meaning: Returns a DateTime representing the first moment of the specified unit, here the start of the month (i.e., day 1 at 00:00:00).\n# Use Case in n8n: Used to align dates to a specific boundary, such as the beginning of a day, week, or month — helpful for reports, billing cycles, or filtering records by month.\n\n7) .endOf('month')\n# Meaning: Returns a DateTime representing the last moment of the specified unit, here the end of the current month (i.e., the last day at 23:59:59).\n# Use Case in n8n:Used to calculate or filter data within monthly periods, such as generating monthly reports, setting billing cutoffs, or comparing dates to the month’s end.\n\n\n\n\n",
              "type": "string"
            },
            {
              "id": "5587432f-e5e5-4c1a-8d51-13ab5f8d3413",
              "name": "format_Ex",
              "value": "={{ \"10/8/2025\".toDateTime().format('yyyy-MM-dd') }}\n{{ \"10/8/2025\".toDateTime().format('ffff') }}\n{{ $now.toDateTime().format('yyyy/MM/dd HH:mm:ss') }}",
              "type": "string"
            },
            {
              "id": "0217f0f2-83ef-409c-8f5b-90c18bfdae77",
              "name": "minus_Ex",
              "value": "={{ $now.toDateTime().format('yyyy/MM/dd HH:mm:ss').toDateTime().minus(4,'hour') }}",
              "type": "string"
            },
            {
              "id": "b609d2ef-ac9e-44f8-9fde-b110bf96536b",
              "name": "plus_Ex",
              "value": "={{ $now.toDateTime().format('yyyy/MM/dd HH:mm:ss').toDateTime().plus(20,'seconds') }}",
              "type": "string"
            },
            {
              "id": "f0deac72-0d80-4e21-923f-56a348bccac5",
              "name": "diffTo_Ex",
              "value": "={{ $now.format('yyyy/MM/dd HH:mm:ss').toDateTime().diffTo(\"10/8/2025\".toDateTime(), 'days') }}",
              "type": "string"
            },
            {
              "id": "fb28e651-d4bf-46f9-92d8-ac572ff1f1c3",
              "name": "extract_Ex",
              "value": "={{ $now.format('yyyy/MM/dd HH:mm:ss').toDateTime().extract('hour') }}",
              "type": "string"
            },
            {
              "id": "08e87513-9046-4a63-a410-cd837f07ea0f",
              "name": "startOf_Ex",
              "value": "={{ $now.format('yyyy/MM/dd HH:mm:ss').toDateTime().startOf('month') }}",
              "type": "string"
            },
            {
              "id": "26a00234-6b48-48b4-b8f2-7753612a8d1d",
              "name": "endOf_Ex",
              "value": "={{ $now.format('yyyy/MM/dd HH:mm:ss').toDateTime().endOf('month') }}",
              "type": "string"
            },
            {
              "id": "2a839deb-0cde-4333-9102-d9bb62bfb275",
              "name": "Component_Ex",
              "value": "={{ $now.year }}\n{{ $now.month }}\n{{ $now.day }}\n{{ $now.hour }}\n{{ $now.minute }}\n{{ $now.second }}\n{{ $now.millisecond }}\n{{ $now.zone }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -256,
        1008
      ],
      "id": "0eb2ae9b-8e02-4ead-9b1a-1d7e278f10eb",
      "name": "DateTime_Functions_Summary"
    },
    {
      "parameters": {
        "content": "# JavaScript Fundamentals Example ",
        "height": 256,
        "width": 912,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        5856,
        -64
      ],
      "typeVersion": 1,
      "id": "8a2bf1d2-2271-4860-a2bc-e6ff7585786d",
      "name": "Sticky Note13"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "workflowName",
              "value": "Customer Data Processor",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "description",
              "value": "Demonstrates JavaScript fundamentals with customer data",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "recordCount",
              "value": 10,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "07e16812-6795-4fd9-ab5f-f146534c6c39",
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        5904,
        32
      ]
    },
    {
      "parameters": {
        "jsCode": "// Generate 10 fake customer objects\nconst firstNames = ['John', 'Jane', 'Michael', 'Sarah', 'David', 'Emily', 'Robert', 'Lisa', 'James', 'Maria', 'William', 'Jennifer', 'Richard', 'Linda', 'Thomas'];\nconst lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez', 'Hernandez', 'Lopez', 'Gonzalez', 'Wilson', 'Anderson'];\nconst domains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hotmail.com', 'company.com'];\n\nconst customers = [];\n\nfor (let i = 1; i <= 10; i++) {\n  const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\n  const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\n  const domain = domains[Math.floor(Math.random() * domains.length)];\n  \n  const customer = {\n    id: i,\n    name: `${firstName} ${lastName}`,\n    email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}${i}@${domain}`,\n    age: Math.floor(Math.random() * 50) + 18, // Age between 18 and 67\n    isActive: Math.random() > 0.3, // 70% chance of being active\n    signupDate: new Date(Date.now() - Math.floor(Math.random() * 365 * 2 * 24 * 60 * 60 * 1000)).toISOString().split('T')[0] // Random date within last 2 years\n  };\n  \n  customers.push(customer);\n}\n\nreturn customers.map(customer => ({ json: customer }));"
      },
      "id": "a6306b09-925c-4977-9268-0dee3307c58a",
      "name": "Generate Fake Customer Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6128,
        32
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "id",
              "value": "={{ $json.id }}",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "name",
              "value": "={{ $json.name.toUpperCase() }}",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "email",
              "value": "={{ $json.email.toLowerCase().trim() }}",
              "type": "string"
            },
            {
              "id": "id-4",
              "name": "age",
              "value": "={{ $json.age }}",
              "type": "number"
            },
            {
              "id": "id-5",
              "name": "isActive",
              "value": "={{ $json.isActive }}",
              "type": "boolean"
            },
            {
              "id": "id-6",
              "name": "signupDate",
              "value": "={{ $json.signupDate }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "cd9b14d5-1be8-4324-a895-41bccdc6c589",
      "name": "Transform Basic Data",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        6352,
        32
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Get the current item\nconst item = $input.item.json;\n\n// Calculate age group\nlet ageGroup;\nif (item.age < 18) {\n  ageGroup = 'Youth';\n} else if (item.age < 65) {\n  ageGroup = 'Adult';\n} else {\n  ageGroup = 'Senior';\n}\n\n// Calculate discount percentage based on age and active status\nlet discountPercentage = 0;\n\nif (ageGroup === 'Youth') {\n  discountPercentage = item.isActive ? 15 : 10;\n} else if (ageGroup === 'Adult') {\n  discountPercentage = item.isActive ? 10 : 5;\n} else if (ageGroup === 'Senior') {\n  discountPercentage = item.isActive ? 20 : 15;\n}\n\n// Create status flags\nconst isPremium = item.isActive && discountPercentage >= 15;\nconst isEligibleForBonus = ageGroup === 'Senior' || (ageGroup === 'Adult' && item.isActive);\n\n// Return the enhanced item with all original fields plus new calculated fields\nreturn {\n  ...item,\n  ageGroup: ageGroup,\n  discountPercentage: discountPercentage,\n  isPremium: isPremium,\n  isEligibleForBonus: isEligibleForBonus\n};"
      },
      "id": "d59f3868-bd93-4d34-a899-8b48a8afe64c",
      "name": "Calculate Age Groups and Discounts",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6576,
        32
      ]
    },
    {
      "parameters": {
        "jsCode": "// Generate 25 realistic fake orders\nconst orders = [];\n\nconst productCatalog = [\n  { productId: 'PROD-001', name: 'Wireless Mouse', price: 29.99 },\n  { productId: 'PROD-002', name: 'USB-C Cable', price: 12.99 },\n  { productId: 'PROD-003', name: 'Laptop Stand', price: 45.50 },\n  { productId: 'PROD-004', name: 'Mechanical Keyboard', price: 89.99 },\n  { productId: 'PROD-005', name: 'Webcam HD', price: 65.00 },\n  { productId: 'PROD-006', name: 'Desk Lamp', price: 34.99 },\n  { productId: 'PROD-007', name: 'Monitor 24\"', price: 199.99 },\n  { productId: 'PROD-008', name: 'Headphones', price: 79.99 },\n  { productId: 'PROD-009', name: 'Phone Charger', price: 19.99 },\n  { productId: 'PROD-010', name: 'External SSD 1TB', price: 129.99 },\n  { productId: 'PROD-011', name: 'Notebook Set', price: 15.99 },\n  { productId: 'PROD-012', name: 'Ergonomic Chair', price: 299.99 },\n  { productId: 'PROD-013', name: 'Desk Organizer', price: 24.99 },\n  { productId: 'PROD-014', name: 'Water Bottle', price: 18.99 },\n  { productId: 'PROD-015', name: 'Backpack', price: 59.99 }\n];\n\nconst statuses = ['pending', 'shipped', 'delivered'];\n\n// Helper function to get random date between Jan 1 and Mar 31, 2024\nfunction getRandomDate() {\n  const start = new Date('2024-01-01').getTime();\n  const end = new Date('2024-03-31').getTime();\n  const randomTime = start + Math.random() * (end - start);\n  return new Date(randomTime).toISOString();\n}\n\n// Helper function to get random integer between min and max (inclusive)\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// Generate 25 orders\nfor (let i = 1; i <= 25; i++) {\n  const numItems = getRandomInt(1, 5);\n  const items = [];\n  \n  // Generate random items for this order\n  for (let j = 0; j < numItems; j++) {\n    const product = productCatalog[getRandomInt(0, productCatalog.length - 1)];\n    const quantity = getRandomInt(1, 3);\n    \n    items.push({\n      productId: product.productId,\n      name: product.name,\n      quantity: quantity,\n      price: product.price\n    });\n  }\n  \n  // Calculate total from items\n  const total = items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n  \n  // Create order object\n  const order = {\n    orderId: `ORD-${String(i).padStart(4, '0')}`,\n    customerId: `CUST-${String(getRandomInt(1, 50)).padStart(4, '0')}`,\n    items: items,\n    total: Math.round(total * 100) / 100, // Round to 2 decimal places\n    status: statuses[getRandomInt(0, statuses.length - 1)],\n    date: getRandomDate()\n  };\n  \n  orders.push(order);\n}\n\n// Return each order as a separate item\nreturn orders.map(order => ({ json: order }));"
      },
      "id": "318f2e97-ea83-4d92-8f1e-da9db7ee68b7",
      "name": "Generate Fake Orders",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6000,
        448
      ]
    },
    {
      "parameters": {
        "jsCode": "// Array Methods Demonstration: Map, Filter, Reduce\n\n// 1. Use .map() to add calculated fields to each order\nconst enhancedItems = $input.all().map(item => {\n  const order = item.json;\n  const items = order.items || [];\n  \n  // Calculate item count\n  const itemCount = items.reduce((sum, item) => sum + (item.quantity || 0), 0);\n  \n  // Calculate average item price\n  const totalValue = items.reduce((sum, item) => sum + ((item.price || 0) * (item.quantity || 0)), 0);\n  const avgItemPrice = items.length > 0 ? totalValue / items.length : 0;\n  \n  // Add high-value flag for orders over $500\n  const isHighValue = order.total > 500;\n  \n  // Format date\n  const formattedDate = new Date(order.orderDate).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n  \n  return {\n    json: {\n      ...order,\n      itemCount,\n      avgItemPrice: Math.round(avgItemPrice * 100) / 100,\n      isHighValue,\n      formattedDate\n    }\n  };\n});\n\n// 2. Use .filter() to identify high-value orders\nconst highValueOrders = enhancedItems.filter(item => item.json.isHighValue);\nconst highValueSummary = {\n  count: highValueOrders.length,\n  totalValue: highValueOrders.reduce((sum, item) => sum + item.json.total, 0),\n  averageValue: highValueOrders.length > 0 \n    ? highValueOrders.reduce((sum, item) => sum + item.json.total, 0) / highValueOrders.length \n    : 0\n};\n\n// 3. Use .reduce() to calculate daily totals\nconst dailyStats = enhancedItems.reduce((acc, item) => {\n  const date = item.json.formattedDate;\n  \n  if (!acc[date]) {\n    acc[date] = {\n      orderCount: 0,\n      totalRevenue: 0,\n      totalItems: 0\n    };\n  }\n  \n  acc[date].orderCount++;\n  acc[date].totalRevenue += item.json.total;\n  acc[date].totalItems += item.json.itemCount;\n  \n  return acc;\n}, {});\n\n// Add summary data to each item\nconst finalItems = enhancedItems.map(item => ({\n  json: {\n    ...item.json,\n    highValueOrders: highValueSummary,\n    dailyStats: dailyStats\n  }\n}));\n\nreturn finalItems;"
      },
      "id": "b086218e-ee8b-4b95-9636-a91f02174659",
      "name": "Array Methods - Map Filter Reduce",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6224,
        448
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "pending",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Pending Orders"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "shipped",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Shipped Orders"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "delivered",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Delivered Orders"
            }
          ]
        },
        "options": {}
      },
      "id": "50c9c048-b0c1-4a0f-bb58-b45e105573b7",
      "name": "Route by Order Status",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        6448,
        432
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Customer database with details for C001-C010\nconst customerDatabase = {\n  'C001': { name: 'John Smith', email: 'john.smith@email.com', phone: '555-0101', address: '123 Main St, New York, NY' },\n  'C002': { name: 'Sarah Johnson', email: 'sarah.j@email.com', phone: '555-0102', address: '456 Oak Ave, Los Angeles, CA' },\n  'C003': { name: 'Michael Brown', email: 'mbrown@email.com', phone: '555-0103', address: '789 Pine Rd, Chicago, IL' },\n  'C004': { name: 'Emily Davis', email: 'emily.davis@email.com', phone: '555-0104', address: '321 Elm St, Houston, TX' },\n  'C005': { name: 'David Wilson', email: 'dwilson@email.com', phone: '555-0105', address: '654 Maple Dr, Phoenix, AZ' },\n  'C006': { name: 'Jessica Martinez', email: 'jmartinez@email.com', phone: '555-0106', address: '987 Cedar Ln, Philadelphia, PA' },\n  'C007': { name: 'James Anderson', email: 'james.a@email.com', phone: '555-0107', address: '147 Birch Blvd, San Antonio, TX' },\n  'C008': { name: 'Lisa Taylor', email: 'ltaylor@email.com', phone: '555-0108', address: '258 Spruce Way, San Diego, CA' },\n  'C009': { name: 'Robert Thomas', email: 'rthomas@email.com', phone: '555-0109', address: '369 Walnut Ct, Dallas, TX' },\n  'C010': { name: 'Jennifer White', email: 'jwhite@email.com', phone: '555-0110', address: '741 Ash Pl, San Jose, CA' }\n};\n\n// Get the current item\nconst orderData = $input.item.json;\n\n// Get customer info from database\nconst customerId = orderData.customerId;\nconst customerInfo = customerDatabase[customerId] || {};\n\n// Determine processing priority based on total amount\nlet processingPriority;\nif (orderData.total >= 500) {\n  processingPriority = 'High';\n} else if (orderData.total >= 200) {\n  processingPriority = 'Medium';\n} else {\n  processingPriority = 'Low';\n}\n\n// Merge customer info with order data using spread operator\nconst mergedData = {\n  ...orderData,\n  ...customerInfo,\n  processingPriority\n};\n\nreturn mergedData;"
      },
      "id": "4e0eb522-fc4b-4aee-9b32-7054a1408935",
      "name": "Merge Customer Data - Pending",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6672,
        256
      ]
    },
    {
      "parameters": {
        "jsCode": "// Customer database with details for C001-C010\nconst customerDatabase = {\n  'C001': { name: 'John Smith', email: 'john.smith@email.com', phone: '555-0101', address: '123 Main St, New York, NY 10001' },\n  'C002': { name: 'Sarah Johnson', email: 'sarah.j@email.com', phone: '555-0102', address: '456 Oak Ave, Los Angeles, CA 90001' },\n  'C003': { name: 'Michael Brown', email: 'mbrown@email.com', phone: '555-0103', address: '789 Pine Rd, Chicago, IL 60601' },\n  'C004': { name: 'Emily Davis', email: 'emily.davis@email.com', phone: '555-0104', address: '321 Elm St, Houston, TX 77001' },\n  'C005': { name: 'David Wilson', email: 'dwilson@email.com', phone: '555-0105', address: '654 Maple Dr, Phoenix, AZ 85001' },\n  'C006': { name: 'Jessica Martinez', email: 'jmartinez@email.com', phone: '555-0106', address: '987 Cedar Ln, Philadelphia, PA 19101' },\n  'C007': { name: 'James Anderson', email: 'james.a@email.com', phone: '555-0107', address: '147 Birch Blvd, San Antonio, TX 78201' },\n  'C008': { name: 'Lisa Taylor', email: 'ltaylor@email.com', phone: '555-0108', address: '258 Spruce Way, San Diego, CA 92101' },\n  'C009': { name: 'Robert Thomas', email: 'rthomas@email.com', phone: '555-0109', address: '369 Walnut Ct, Dallas, TX 75201' },\n  'C010': { name: 'Jennifer White', email: 'jwhite@email.com', phone: '555-0110', address: '741 Ash Pl, San Jose, CA 95101' }\n};\n\n// Process each item and merge customer data\nconst mergedItems = $input.all().map(item => {\n  const customerId = item.json.customerId;\n  const customerInfo = customerDatabase[customerId] || {};\n  \n  // Calculate estimated delivery (3-5 days from now, using 4 days as average)\n  const estimatedDelivery = new Date();\n  estimatedDelivery.setDate(estimatedDelivery.getDate() + 4);\n  \n  // Merge customer info with order data using spread operator\n  return {\n    json: {\n      ...item.json,\n      ...customerInfo,\n      estimatedDelivery: estimatedDelivery.toISOString().split('T')[0]\n    }\n  };\n});\n\nreturn mergedItems;"
      },
      "id": "cdb1d651-4594-4059-9dc3-41f05ac18239",
      "name": "Merge Customer Data - Shipped",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6672,
        448
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Customer database with details for C001-C010\nconst customerDatabase = {\n  'C001': { name: 'John Smith', email: 'john.smith@email.com', phone: '555-0101', address: '123 Main St, New York, NY 10001' },\n  'C002': { name: 'Sarah Johnson', email: 'sarah.j@email.com', phone: '555-0102', address: '456 Oak Ave, Los Angeles, CA 90001' },\n  'C003': { name: 'Michael Brown', email: 'mbrown@email.com', phone: '555-0103', address: '789 Pine Rd, Chicago, IL 60601' },\n  'C004': { name: 'Emily Davis', email: 'emily.davis@email.com', phone: '555-0104', address: '321 Elm St, Houston, TX 77001' },\n  'C005': { name: 'David Wilson', email: 'dwilson@email.com', phone: '555-0105', address: '654 Maple Dr, Phoenix, AZ 85001' },\n  'C006': { name: 'Jessica Martinez', email: 'jmartinez@email.com', phone: '555-0106', address: '987 Cedar Ln, Philadelphia, PA 19101' },\n  'C007': { name: 'James Anderson', email: 'james.a@email.com', phone: '555-0107', address: '147 Birch Blvd, San Antonio, TX 78201' },\n  'C008': { name: 'Lisa Taylor', email: 'ltaylor@email.com', phone: '555-0108', address: '258 Spruce Way, San Diego, CA 92101' },\n  'C009': { name: 'Robert Thomas', email: 'rthomas@email.com', phone: '555-0109', address: '369 Willow Ct, Dallas, TX 75201' },\n  'C010': { name: 'Jennifer White', email: 'jwhite@email.com', phone: '555-0110', address: '741 Ash Pl, San Jose, CA 95101' }\n};\n\n// Get the current order data\nconst orderData = $input.item.json;\n\n// Get customer info from database\nconst customerId = orderData.customerId;\nconst customerInfo = customerDatabase[customerId] || {};\n\n// Add delivery confirmation details\nconst deliveryConfirmation = {\n  timestamp: new Date().toISOString(),\n  signatureStatus: 'Signed'\n};\n\n// Merge customer info with order data using spread operator\nconst mergedData = {\n  ...orderData,\n  ...customerInfo,\n  deliveryConfirmation\n};\n\nreturn mergedData;"
      },
      "id": "69054529-f677-494a-a93a-e65bcc06e6da",
      "name": "Merge Customer Data - Delivered",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6672,
        640
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "orderCount",
              "value": 25,
              "type": "number"
            },
            {
              "id": "id-2",
              "name": "startDate",
              "value": "2024-01-01",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "endDate",
              "value": "2024-03-31",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "437092cf-0212-4808-9880-ada84db0ecb5",
      "name": "Workflow Configuration1",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        5776,
        448
      ]
    },
    {
      "parameters": {
        "content": "# Arrays & Control Flow Example",
        "height": 592,
        "width": 1408,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        5632,
        208
      ],
      "id": "27ca1fb6-c006-4758-b03c-141c63baf5fc",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "jsCode": "// Generate 10 fake event registrations with inconsistent data\nconst registrations = [\n  {\n    firstName: \"John\",\n    lastName: \"Smith\",\n    email: \"john.smith@example.com\",\n    phone: \"555-123-4567\",\n    company: \"Tech Corp\",\n    ticketType: \"VIP\",\n    registrationDate: \"2024-01-15\",\n    dietaryRestrictions: \"Vegetarian\",\n    specialRequests: \"Need wheelchair access\"\n  },\n  {\n    firstName: \"Sarah\",\n    lastName: \"Johnson\",\n    email: \"sarah.johnson@invalid\",\n    phone: \"(555) 234-5678\",\n    company: \"Marketing Inc\",\n    ticketType: \"Standard\",\n    registrationDate: \"2024-01-16\",\n    dietaryRestrictions: \"None\",\n    specialRequests: \"\"\n  },\n  {\n    firstName: \"Mike\",\n    lastName: \"Davis\",\n    email: \"mike.davis@company.com\",\n    phone: \"5552345678\",\n    company: \"\",\n    ticketType: \"Early Bird\",\n    registrationDate: \"2024-01-10\",\n    dietaryRestrictions: \"Gluten-free\",\n    specialRequests: \"Prefer front row seating\"\n  },\n  {\n    firstName: \"Emily\",\n    lastName: \"Brown\",\n    email: \"emily.brown.email.com\",\n    phone: \"+1-555-345-6789\",\n    company: \"Design Studio\",\n    ticketType: \"VIP\",\n    registrationDate: \"2024-01-12\",\n    dietaryRestrictions: \"Vegan\",\n    specialRequests: \"Allergic to nuts\"\n  },\n  {\n    firstName: \"David\",\n    lastName: \"Wilson\",\n    email: \"david.wilson@email.com\",\n    phone: \"555.456.7890\",\n    company: \"Consulting Group\",\n    ticketType: \"Standard\",\n    registrationDate: \"2024-01-18\",\n    dietaryRestrictions: \"\",\n    specialRequests: \"Need parking pass\"\n  },\n  {\n    firstName: \"Lisa\",\n    lastName: \"Anderson\",\n    email: \"lisa@anderson.com\",\n    phone: \"555 567 8901\",\n    company: \"Finance Solutions\",\n    ticketType: \"Early Bird\",\n    registrationDate: \"2024-01-08\",\n    dietaryRestrictions: \"Kosher\",\n    specialRequests: \"\"\n  },\n  {\n    firstName: \"Robert\",\n    lastName: \"Taylor\",\n    email: \"robert.taylor@@company.com\",\n    phone: \"5556789012\",\n    company: \"\",\n    ticketType: \"Standard\",\n    registrationDate: \"2024-01-20\",\n    dietaryRestrictions: \"None\",\n    specialRequests: \"Bringing a guest\"\n  },\n  {\n    firstName: \"Jennifer\",\n    lastName: \"Martinez\",\n    email: \"jennifer.martinez@business.com\",\n    phone: \"(555)789-0123\",\n    company: \"Retail Enterprises\",\n    ticketType: \"VIP\",\n    registrationDate: \"2024-01-14\",\n    dietaryRestrictions: \"Lactose intolerant\",\n    specialRequests: \"Need invoice for reimbursement\"\n  },\n  {\n    firstName: \"Chris\",\n    lastName: \"Lee\",\n    email: \"chris.lee@\",\n    phone: \"555-890-1234\",\n    company: \"Software Labs\",\n    ticketType: \"Early Bird\",\n    registrationDate: \"2024-01-09\",\n    dietaryRestrictions: \"Halal\",\n    specialRequests: \"\"\n  },\n  {\n    firstName: \"Amanda\",\n    lastName: \"White\",\n    email: \"amanda.white@startup.io\",\n    phone: \"555/901/2345\",\n    company: \"Innovation Hub\",\n    ticketType: \"Standard\",\n    registrationDate: \"2024-01-17\",\n    dietaryRestrictions: \"Pescatarian\",\n    specialRequests: \"Interested in networking session\"\n  }\n];\n\nreturn registrations.map(reg => ({ json: reg }));"
      },
      "id": "d971eb43-ee4e-43b9-8536-7b14c538ead5",
      "name": "Generate Fake Event Registrations",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5936,
        976
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "fullName",
              "value": "={{ $json.firstName + ' ' + $json.lastName }}",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "email",
              "value": "={{ $json.email.toLowerCase().trim() }}",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "phone",
              "value": "={{ $json.phone }}",
              "type": "string"
            },
            {
              "id": "id-4",
              "name": "company",
              "value": "={{ $json.company || 'N/A' }}",
              "type": "string"
            },
            {
              "id": "id-5",
              "name": "ticketType",
              "value": "={{ $json.ticketType }}",
              "type": "string"
            },
            {
              "id": "id-6",
              "name": "registrationDate",
              "value": "={{ $json.registrationDate }}",
              "type": "string"
            },
            {
              "id": "id-7",
              "name": "dietaryRestrictions",
              "value": "={{ $json.dietaryRestrictions || 'None' }}",
              "type": "string"
            },
            {
              "id": "id-8",
              "name": "specialRequests",
              "value": "={{ $json.specialRequests || 'None' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "8845e79a-d58a-4bd3-a163-80c399cf2327",
      "name": "Initial Field Cleanup",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        6160,
        976
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Validate email using regex\nfunction validateEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n// Calculate days between registration and event date\nfunction calculateDaysUntilEvent(registrationDate, eventDate) {\n  const regDate = new Date(registrationDate);\n  const evtDate = new Date(eventDate);\n  const diffTime = evtDate - regDate;\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n}\n\n// Generate unique confirmation number\nfunction generateConfirmationNumber() {\n  const timestamp = Date.now();\n  const randomString = Math.random().toString(36).substring(2, 8).toUpperCase();\n  return `CONF-${timestamp}-${randomString}`;\n}\n\n// Get workflow configuration data\nconst workflowConfig = $('Workflow Configuration2').first().json;\nconst eventDate = workflowConfig.eventDate;\n\n// Process current item\nconst item = $input.item.json;\n\n// Add validation and formatting fields\nitem.isValidEmail = validateEmail(item.email);\nitem.daysUntilEvent = calculateDaysUntilEvent(item.registrationDate || new Date(), eventDate);\nitem.confirmationNumber = generateConfirmationNumber();\n\nreturn item;"
      },
      "id": "94cce9d9-0c6f-41ab-a119-37016ef5673d",
      "name": "Validate & Format Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6384,
        976
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Demonstrate string manipulation methods\n\n// Get input data\nconst fullName = $input.item.json.fullName || 'Guest';\nconst eventName = $input.item.json.eventName || 'Event';\nconst ticketType = $input.item.json.ticketType || 'Standard';\n\n// Generate badge name using toUpperCase()\nconst badgeName = fullName.toUpperCase();\n\n// Create certificate name using proper title case with split/map/join\nconst certificateName = fullName\n  .toLowerCase()\n  .split(' ')\n  .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n  .join(' ');\n\n// Format attendee slug using toLowerCase and replace spaces with hyphens\nconst attendeeSlug = fullName\n  .toLowerCase()\n  .replace(/\\s+/g, '-');\n\n// Generate welcome message using template literals with personalized greeting\nconst welcomeMessage = `Welcome ${certificateName}! We're excited to have you join us at ${eventName}. Your ${ticketType} ticket has been confirmed.`;\n\n// Return the processed data\nreturn {\n  ...($input.item.json),\n  badgeName,\n  certificateName,\n  attendeeSlug,\n  welcomeMessage\n};"
      },
      "id": "e7aca8ab-a865-4998-b45d-cd5ca383d0eb",
      "name": "Generate Badges & Certificates",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6608,
        976
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Get the event date from the current item\nconst eventDate = new Date($input.item.json.eventDate);\n\n// Calculate reminder dates\nconst firstReminder = new Date(eventDate);\nfirstReminder.setDate(eventDate.getDate() - 7);\n\nconst secondReminder = new Date(eventDate);\nsecondReminder.setDate(eventDate.getDate() - 3);\n\nconst finalReminder = new Date(eventDate);\nfinalReminder.setDate(eventDate.getDate() - 1);\n\n// Calculate if event is urgent (within 14 days)\nconst today = new Date();\nconst daysUntilEvent = Math.ceil((eventDate - today) / (1000 * 60 * 60 * 24));\nconst isUrgent = daysUntilEvent <= 14;\n\n// Return the item with calculated reminder dates\nreturn {\n  ...($input.item.json),\n  firstReminder: firstReminder.toISOString(),\n  secondReminder: secondReminder.toISOString(),\n  finalReminder: finalReminder.toISOString(),\n  isUrgent: isUrgent\n};"
      },
      "id": "e56b2575-a5a4-4254-ba5f-8dc104488fac",
      "name": "Calculate Reminder Dates",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6832,
        976
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "1234567890abcdefghijklmnopqrstuvwxyz"
        },
        "sheetName": {
          "__rl": true,
          "mode": "name",
          "value": "Event Registrations"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Confirmation Number": "={{ $json.confirmationNumber }}",
            "Full Name": "={{ $json.fullName }}",
            "Email": "={{ $json.email }}",
            "Phone": "={{ $json.phone }}",
            "Company": "={{ $json.company }}",
            "Ticket Type": "={{ $json.ticketType }}",
            "Registration Date": "={{ $json.registrationDate }}",
            "Days Until Event": "={{ $json.daysUntilEvent }}",
            "Badge Name": "={{ $json.badgeName }}",
            "First Reminder": "={{ $json.firstReminder }}",
            "Second Reminder": "={{ $json.secondReminder }}",
            "Final Reminder": "={{ $json.finalReminder }}",
            "Is Urgent": "={{ $json.isUrgent }}",
            "Dietary Restrictions": "={{ $json.dietaryRestrictions }}",
            "Special Requests": "={{ $json.specialRequests }}"
          },
          "matchingColumns": [
            "Confirmation Number"
          ],
          "schema": [
            {
              "id": "Confirmation Number",
              "displayName": "Confirmation Number",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Full Name",
              "displayName": "Full Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone",
              "displayName": "Phone",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Company",
              "displayName": "Company",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Ticket Type",
              "displayName": "Ticket Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Registration Date",
              "displayName": "Registration Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Days Until Event",
              "displayName": "Days Until Event",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Badge Name",
              "displayName": "Badge Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "First Reminder",
              "displayName": "First Reminder",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Second Reminder",
              "displayName": "Second Reminder",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Final Reminder",
              "displayName": "Final Reminder",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Is Urgent",
              "displayName": "Is Urgent",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Dietary Restrictions",
              "displayName": "Dietary Restrictions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Special Requests",
              "displayName": "Special Requests",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ]
        },
        "options": {}
      },
      "id": "d3402d9f-736b-46d2-b069-2b1dcb25849d",
      "name": "Save to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        7056,
        880
      ]
    },
    {
      "parameters": {
        "sendTo": "={{ $json.email }}",
        "subject": "={{ 'Registration Confirmed: ' + $('Workflow Configuration2').item.json.eventName + ' - ' + $json.confirmationNumber }}",
        "message": "={{ '<html><body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333;\">' +\n'<div style=\"max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px;\">' +\n'<h1 style=\"color: #4CAF50; text-align: center;\">Welcome to ' + $('Workflow Configuration2').item.json.eventName + '!</h1>' +\n'<p>Dear ' + $json.firstName + ' ' + $json.lastName + ',</p>' +\n'<p>Thank you for registering! We are excited to have you join us.</p>' +\n'<div style=\"background-color: #f9f9f9; padding: 15px; border-radius: 5px; margin: 20px 0;\">' +\n'<h2 style=\"color: #333; margin-top: 0;\">Registration Details</h2>' +\n'<p><strong>Confirmation Number:</strong> ' + $json.confirmationNumber + '</p>' +\n'<p><strong>Event:</strong> ' + $('Workflow Configuration2').item.json.eventName + '</p>' +\n'<p><strong>Date:</strong> ' + $('Workflow Configuration2').item.json.eventDate + '</p>' +\n'<p><strong>Location:</strong> ' + $('Workflow Configuration2').item.json.eventLocation + '</p>' +\n'<p><strong>Badge Name:</strong> ' + $json.badgeName + '</p>' +\n'</div>' +\n'<div style=\"background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0;\">' +\n'<h3 style=\"color: #856404; margin-top: 0;\">Important Reminders</h3>' +\n'<p><strong>First Reminder:</strong> ' + $json.firstReminderDate + '</p>' +\n'<p><strong>Final Reminder:</strong> ' + $json.finalReminderDate + '</p>' +\n'</div>' +\n($json.dietaryRestrictions ? '<div style=\"background-color: #e7f3ff; padding: 15px; border-radius: 5px; margin: 20px 0;\">' +\n'<h3 style=\"color: #004085; margin-top: 0;\">Dietary Restrictions</h3>' +\n'<p>We have noted your dietary restrictions: <strong>' + $json.dietaryRestrictions + '</strong></p>' +\n'</div>' : '') +\n'<p style=\"margin-top: 30px;\">If you have any questions, please don\\'t hesitate to contact us.</p>' +\n'<p>See you at the event!</p>' +\n'<p style=\"color: #777; font-size: 12px; margin-top: 30px; border-top: 1px solid #ddd; padding-top: 15px;\">This is an automated confirmation email.</p>' +\n'</div></body></html>' }}",
        "options": {}
      },
      "id": "65b90d14-eb41-4aa5-9f8d-113b11e1f692",
      "name": "Send Confirmation Email",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        7056,
        1072
      ],
      "webhookId": "c650076d-5943-4764-b11b-4bcf2e56188b"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 9
            }
          ]
        }
      },
      "id": "a0d154f2-c5fb-445d-97b9-6d912b71fe98",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        5488,
        976
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "eventName",
              "value": "Tech Conference 2024",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "eventDate",
              "value": "2024-12-15",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "eventLocation",
              "value": "San Francisco Convention Center",
              "type": "string"
            },
            {
              "id": "id-4",
              "name": "maxAttendees",
              "value": 500,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "f63a9f42-2339-41d1-87dd-6761388b439a",
      "name": "Workflow Configuration2",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        5712,
        976
      ]
    },
    {
      "parameters": {
        "content": "## Functions & Data Processing",
        "height": 416,
        "width": 1856,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        5424,
        816
      ],
      "typeVersion": 1,
      "id": "596d7100-482e-4181-9754-653c5e078c85",
      "name": "Sticky Note14"
    },
    {
      "parameters": {
        "content": "# Error Handling & Advanced Patterns\n",
        "height": 432,
        "width": 1856,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        5424,
        1248
      ],
      "id": "568fa362-3d57-4072-aea9-0f68b25818a1",
      "name": "Sticky Note15"
    },
    {
      "parameters": {
        "jsCode": "// Generate fake CSV data with intentional errors\nconst records = [\n  // Valid records\n  { id: 1, name: \"John Doe\", email: \"john@example.com\", age: 28, salary: 50000 },\n  { id: 2, name: \"Jane Smith\", email: \"jane@example.com\", age: 34, salary: 65000 },\n  { id: 3, name: \"Bob Johnson\", email: \"bob@example.com\", age: 45, salary: 75000 },\n  \n  // Missing required fields\n  { id: 4, name: \"Alice Brown\", age: 29, salary: 55000 }, // missing email\n  { id: 5, email: \"charlie@example.com\", age: 31, salary: 60000 }, // missing name\n  { name: \"David Wilson\", email: \"david@example.com\", age: 38, salary: 70000 }, // missing id\n  \n  // Invalid data types\n  { id: \"INVALID\", name: \"Eve Davis\", email: \"eve@example.com\", age: 27, salary: 52000 }, // id should be number\n  { id: 7, name: \"Frank Miller\", email: \"frank@example.com\", age: \"thirty-five\", salary: 68000 }, // age should be number\n  { id: 8, name: \"Grace Lee\", email: \"grace@example.com\", age: 42, salary: \"high\" }, // salary should be number\n  \n  // Invalid email format\n  { id: 9, name: \"Henry Taylor\", email: \"invalid-email\", age: 33, salary: 62000 },\n  { id: 10, name: \"Iris Anderson\", email: \"@example.com\", age: 29, salary: 58000 },\n  \n  // Duplicate IDs\n  { id: 2, name: \"Duplicate Entry\", email: \"duplicate@example.com\", age: 40, salary: 72000 },\n  { id: 3, name: \"Another Duplicate\", email: \"dup2@example.com\", age: 36, salary: 66000 },\n  \n  // Invalid age (negative or too high)\n  { id: 11, name: \"Jack White\", email: \"jack@example.com\", age: -5, salary: 54000 },\n  { id: 12, name: \"Karen Green\", email: \"karen@example.com\", age: 150, salary: 80000 },\n  \n  // More valid records\n  { id: 13, name: \"Leo Martinez\", email: \"leo@example.com\", age: 31, salary: 61000 },\n  { id: 14, name: \"Maria Garcia\", email: \"maria@example.com\", age: 26, salary: 49000 },\n  { id: 15, name: \"Nathan Clark\", email: \"nathan@example.com\", age: 39, salary: 73000 }\n];\n\nreturn records.map(record => ({ json: record }));"
      },
      "id": "0d5207c7-7b6e-42b0-862a-f7cce512f67c",
      "name": "Generate Fake CSV Data with Errors",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5680,
        1456
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Validate each record using try-catch blocks\nconst item = $input.item.json;\nconst errors = [];\n\ntry {\n  // Check for missing required fields\n  const requiredFields = ['id', 'name', 'email', 'age'];\n  \n  for (const field of requiredFields) {\n    if (!item.hasOwnProperty(field) || item[field] === null || item[field] === undefined || item[field] === '') {\n      errors.push(`Missing required field: ${field}`);\n    }\n  }\n  \n  // Validate data types\n  if (item.id !== undefined && typeof item.id !== 'number') {\n    errors.push('Invalid data type: id must be a number');\n  }\n  \n  if (item.name !== undefined && typeof item.name !== 'string') {\n    errors.push('Invalid data type: name must be a string');\n  }\n  \n  if (item.email !== undefined) {\n    if (typeof item.email !== 'string') {\n      errors.push('Invalid data type: email must be a string');\n    } else {\n      // Validate email format\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(item.email)) {\n        errors.push('Invalid email format');\n      }\n    }\n  }\n  \n  if (item.age !== undefined) {\n    if (typeof item.age !== 'number') {\n      errors.push('Invalid data type: age must be a number');\n    } else if (item.age < 0 || item.age > 150) {\n      errors.push('Invalid age: must be between 0 and 150');\n    }\n  }\n  \n  // Check for duplicate entries (based on id)\n  // Note: This checks against all items in the workflow context\n  const allItems = $input.all();\n  const currentId = item.id;\n  const duplicates = allItems.filter(i => i.json.id === currentId);\n  \n  if (duplicates.length > 1) {\n    errors.push(`Duplicate entry: id ${currentId} appears multiple times`);\n  }\n  \n} catch (error) {\n  errors.push(`Validation error: ${error.message}`);\n}\n\n// Mark record as valid or invalid\nif (errors.length > 0) {\n  return {\n    ...item,\n    isValid: false,\n    validationErrors: errors\n  };\n} else {\n  return {\n    ...item,\n    isValid: true,\n    validationErrors: []\n  };\n}"
      },
      "id": "031b6120-59f0-44b1-848e-a4e4a17cabef",
      "name": "Validate Data with Try-Catch",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5904,
        1456
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "id-1",
              "leftValue": "={{ $json.isValid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "5505bdfe-4956-4388-a405-5e4f40b5a31f",
      "name": "Split Valid vs Invalid Records",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        6128,
        1456
      ]
    },
    {
      "parameters": {
        "jsCode": "// Demonstrate n8n-specific patterns using $input.all()\n// Access all items from the previous node\nconst items = $input.all();\n\n// Enrich valid records with metadata\nconst enrichedItems = items.map((item, index) => {\n  return {\n    json: {\n      ...item.json,\n      // Add metadata\n      recordNumber: index + 1,\n      processedAt: new Date().toISOString(),\n      validationStatus: 'valid',\n      totalRecords: items.length\n    }\n  };\n});\n\nreturn enrichedItems;"
      },
      "id": "9d22eee3-b96e-49b0-bc4d-6a9608913a2f",
      "name": "Process Valid Records with $input",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6352,
        1312
      ]
    },
    {
      "parameters": {
        "batchSize": 3,
        "options": {
          "reset": true
        }
      },
      "id": "fe5ac01f-f39f-4344-95d8-44a9ab10a9bf",
      "name": "Process in Batches with Error Recovery",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        6576,
        1312
      ]
    },
    {
      "parameters": {
        "jsCode": "// Process batch with error recovery\nconst items = $input.all();\nconst processedItems = [];\nconst errors = [];\n\n// Simulate API call or database operation with potential failures\nfor (const item of items) {\n  try {\n    // Simulate random failures (10% failure rate)\n    if (Math.random() < 0.1) {\n      throw new Error(`Failed to process record: ${item.json.id || 'unknown'}`);\n    }\n    \n    // Simulate processing delay\n    // In real scenario, this would be an API call or database operation\n    const processed = {\n      ...item.json,\n      processed: true,\n      processedAt: new Date().toISOString(),\n      batchId: $('Process in Batches with Error Recovery').item.json.batchIndex || 0\n    };\n    \n    processedItems.push({ json: processed });\n    \n  } catch (error) {\n    // Log error but continue processing other items\n    console.log(`Error processing item: ${error.message}`);\n    errors.push({\n      json: {\n        originalData: item.json,\n        error: error.message,\n        timestamp: new Date().toISOString()\n      }\n    });\n  }\n}\n\n// Return successfully processed items\n// Errors are logged but don't stop the batch\nreturn processedItems.length > 0 ? processedItems : [{ json: { message: 'No items processed successfully in this batch' } }];"
      },
      "id": "50db6a24-63cd-490b-a17f-3d1c613f46d8",
      "name": "Batch Processing Logic",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6800,
        1264
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "status",
              "value": "processed",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "processedAt",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "pipeline",
              "value": "data-import-validation",
              "type": "string"
            },
            {
              "id": "id-4",
              "name": "recordCount",
              "value": "={{ $json.recordCount }}",
              "type": "number"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "c616e860-5584-4f1d-9053-8f1d754696be",
      "name": "Format Valid Data Output",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        6800,
        1456
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "errorType",
              "value": "={{ $json.errorType }}",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "errorMessage",
              "value": "={{ $json.errorMessage }}",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "recordId",
              "value": "={{ $json.id }}",
              "type": "string"
            },
            {
              "id": "id-4",
              "name": "loggedAt",
              "value": "={{ new Date().toISOString() }}",
              "type": "string"
            },
            {
              "id": "id-5",
              "name": "severity",
              "value": "warning",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "c18793f0-a005-4fa8-b7ce-8c411ecef35e",
      "name": "Format Error Log",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        6352,
        1504
      ]
    },
    {
      "parameters": {
        "content": "# n8n JavaScript Code Node Reference Guide\n\nThis comprehensive guide is designed for developers who know JavaScript but are new to n8n.  It covers everything you need to write effective code in n8n's Code node, with practical examples and clear explanations.\n\n---\n\n## Table of Contents\n\n1. [n8n Code Node Basics](#1-n8n-code-node-basics)\n2. [Accessing Input Data](#2-accessing-input-data)\n3. [Returning Data Correctly](#3-returning-data-correctly)\n4. [Working with Arrays and Multiple Items](#4-working-with-arrays-and-multiple-items)\n5. [Conditional Logic in Workflows](#5-conditional-logic-in-workflows)\n6. [Data Transformation and Mapping](#6-data-transformation-and-mapping)\n7. [Error Handling in n8n](#7-error-handling-in-n8n)\n8. [Date and String Manipulation](#8-date-and-string-manipulation)\n9. [Best Practices](#9-best-practices)\n10. [Common Mistakes Web Developers Make](#10-common-mistakes-web-developers-make)\n\n---\n\n## 1. n8n Code Node Basics\n\n### What is the Code Node?\n\nThe Code node allows you to write custom JavaScript to transform, filter, or generate data within your n8n workflows. Unlike browser JavaScript, n8n Code nodes run in a Node.js environment without access to browser APIs.\n\n### Two Modes of Operation\n\n```javascript\n// Mode 1: \"Run Once for All Items\" (default)\n// - Executes your code once with access to ALL input items\n// - Best for:  aggregations, comparisons across items, batch operations\n\n// Mode 2: \"Run Once for Each Item\"\n// - Executes your code separately for EACH input item\n// - Best for: simple transformations on individual items\n```\n\n### Basic Structure\n\n```javascript\n// n8n Code nodes MUST return an array of objects\n// Each object MUST have a 'json' property containing your data\n\nreturn [\n  {\n    json: {\n      message: \"Hello from n8n!\",\n      timestamp: new Date().toISOString()\n    }\n  }\n];\n```\n\n**Input:** (No input needed for this example)\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"message\": \"Hello from n8n! \",\n      \"timestamp\": \"2025-12-31T10:30:00.000Z\"\n    }\n  }\n]\n```\n\n---\n\n## 2. Accessing Input Data\n\n### The $input Object\n\nThe `$input` object is your gateway to data from previous nodes. \n\n```javascript\n// $input.all() - Returns ALL items from the previous node as an array\n// $input.first() - Returns only the FIRST item\n// $input.last() - Returns only the LAST item\n// $input.item - Current item (only in \"Run Once for Each Item\" mode)\n```\n\n### Using $json (Run Once for Each Item Mode)\n\n```javascript\n// When in \"Run Once for Each Item\" mode, $json gives direct access\n// to the current item's data\n\n// Input:  { \"name\": \"Alice\", \"age\": 30 }\n\nconst userName = $json.name;\nconst userAge = $json.age;\n\nreturn [\n  {\n    json: {\n      greeting: `Hello, ${userName}!`,\n      birthYear: 2025 - userAge\n    }\n  }\n];\n```\n\n**Input:**\n```json\n{ \"name\": \"Alice\", \"age\": 30 }\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"greeting\": \"Hello, Alice!\",\n      \"birthYear\":  1995\n    }\n  }\n]\n```\n\n### Using $input.all() (Run Once for All Items Mode)\n\n```javascript\n// Get all items and process them together\nconst allItems = $input.all();\n\n// Each item has a 'json' property containing the actual data\nconst names = allItems.map(item => item. json.name);\n\nreturn [\n  {\n    json: {\n      totalItems: allItems. length,\n      allNames: names,\n      firstPerson: allItems[0].json.name\n    }\n  }\n];\n```\n\n**Input:**\n```json\n[\n  { \"name\": \"Alice\", \"department\": \"Engineering\" },\n  { \"name\": \"Bob\", \"department\": \"Marketing\" },\n  { \"name\": \"Charlie\", \"department\": \"Engineering\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"totalItems\":  3,\n      \"allNames\": [\"Alice\", \"Bob\", \"Charlie\"],\n      \"firstPerson\":  \"Alice\"\n    }\n  }\n]\n```\n\n### Using $input.first() and $input.last()\n\n```javascript\n// Get specific items from the input\nconst firstItem = $input. first();\nconst lastItem = $input. last();\n\nreturn [\n  {\n    json: {\n      firstPerson: firstItem. json.name,\n      lastPerson:  lastItem.json. name,\n      message: `Processing from ${firstItem.json.name} to ${lastItem.json. name}`\n    }\n  }\n];\n```\n\n**Input:**\n```json\n[\n  { \"name\": \"Alice\" },\n  { \"name\": \"Bob\" },\n  { \"name\": \"Charlie\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"firstPerson\":  \"Alice\",\n      \"lastPerson\":  \"Charlie\",\n      \"message\": \"Processing from Alice to Charlie\"\n    }\n  }\n]\n```\n\n---\n\n## 3. Returning Data Correctly\n\n### The Golden Rule\n\n```javascript\n// ALWAYS return an array of objects with 'json' property\n// This is the MOST common mistake - n8n will fail silently or error\n// if you don't follow this structure\n\n// ❌ WRONG - Returns plain object\nreturn { name: \"Alice\" };\n\n// ❌ WRONG - Returns array without json wrapper\nreturn [{ name: \"Alice\" }];\n\n// ❌ WRONG - Returns primitive value\nreturn \"Hello\";\n\n// ✅ CORRECT - Array of objects with json property\nreturn [{ json: { name:  \"Alice\" } }];\n```\n\n### Returning Multiple Items\n\n```javascript\n// Return multiple items for the next node to process\n\nreturn [\n  { json: { id: 1, status: \"active\" } },\n  { json: { id: 2, status: \"pending\" } },\n  { json: { id: 3, status: \"active\" } }\n];\n```\n\n**Output:**\n```json\n[\n  { \"json\": { \"id\": 1, \"status\": \"active\" } },\n  { \"json\": { \"id\": 2, \"status\": \"pending\" } },\n  { \"json\": { \"id\": 3, \"status\": \"active\" } }\n]\n```\n\n### Returning No Items (Empty Result)\n\n```javascript\n// Return empty array when you want to stop the workflow branch\n// or when filtering removes all items\n\nconst items = $input.all();\nconst activeItems = items.filter(item => item. json.status === \"active\");\n\nif (activeItems.length === 0) {\n  // Return empty array - workflow branch stops here\n  return [];\n}\n\nreturn activeItems. map(item => ({\n  json: item.json\n}));\n```\n\n### Preserving Original Data While Adding Fields\n\n```javascript\n// Use spread operator to keep original data and add new fields\n\nconst items = $input.all();\n\nreturn items.map(item => ({\n  json: {\n    ... item.json,  // Spread original data\n    processedAt: new Date().toISOString(),\n    isValid: item.json.email?. includes(\"@\") ?? false\n  }\n}));\n```\n\n**Input:**\n```json\n[\n  { \"name\": \"Alice\", \"email\": \"alice@example.com\" },\n  { \"name\": \"Bob\", \"email\": \"invalid-email\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\":  {\n      \"name\": \"Alice\",\n      \"email\": \"alice@example.com\",\n      \"processedAt\": \"2025-12-31T10:30:00.000Z\",\n      \"isValid\": true\n    }\n  },\n  {\n    \"json\": {\n      \"name\": \"Bob\",\n      \"email\":  \"invalid-email\",\n      \"processedAt\": \"2025-12-31T10:30:00.000Z\",\n      \"isValid\":  false\n    }\n  }\n]\n```\n\n---\n\n## 4. Working with Arrays and Multiple Items\n\n### Processing Each Item Individually\n\n```javascript\n// Transform each item in the input\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json:  {\n      fullName: `${data.firstName} ${data.lastName}`,\n      email: data.email. toLowerCase(),\n      username: data.email.split(\"@\")[0]\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  { \"firstName\": \"Alice\", \"lastName\": \"Smith\", \"email\":  \"ALICE@Example.com\" },\n  { \"firstName\":  \"Bob\", \"lastName\": \"Jones\", \"email\": \"BOB@Example.com\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\":  {\n      \"fullName\": \"Alice Smith\",\n      \"email\": \"alice@example.com\",\n      \"username\": \"alice\"\n    }\n  },\n  {\n    \"json\":  {\n      \"fullName\": \"Bob Jones\",\n      \"email\": \"bob@example.com\",\n      \"username\": \"bob\"\n    }\n  }\n]\n```\n\n### Filtering Items\n\n```javascript\n// Keep only items that match a condition\n\nconst items = $input.all();\n\nconst filteredItems = items.filter(item => {\n  const data = item.json;\n  return data.age >= 18 && data.status === \"active\";\n});\n\n// Must still wrap in proper return format\nreturn filteredItems.map(item => ({\n  json: item.json\n}));\n```\n\n**Input:**\n```json\n[\n  { \"name\":  \"Alice\", \"age\": 25, \"status\": \"active\" },\n  { \"name\": \"Bob\", \"age\": 16, \"status\": \"active\" },\n  { \"name\": \"Charlie\", \"age\": 30, \"status\": \"inactive\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": { \"name\": \"Alice\", \"age\": 25, \"status\":  \"active\" }\n  }\n]\n```\n\n### Aggregating Data\n\n```javascript\n// Combine multiple items into a single summary\n\nconst items = $input.all();\n\nconst totalAmount = items.reduce((sum, item) => {\n  return sum + item.json.amount;\n}, 0);\n\nconst averageAmount = totalAmount / items.length;\n\nconst byCategory = items.reduce((acc, item) => {\n  const category = item.json.category;\n  acc[category] = (acc[category] || 0) + item.json.amount;\n  return acc;\n}, {});\n\nreturn [\n  {\n    json: {\n      totalOrders: items.length,\n      totalAmount: totalAmount,\n      averageAmount:  averageAmount. toFixed(2),\n      amountByCategory: byCategory\n    }\n  }\n];\n```\n\n**Input:**\n```json\n[\n  { \"orderId\": 1, \"amount\": 100, \"category\": \"electronics\" },\n  { \"orderId\":  2, \"amount\": 50, \"category\": \"books\" },\n  { \"orderId\":  3, \"amount\": 200, \"category\": \"electronics\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"totalOrders\": 3,\n      \"totalAmount\":  350,\n      \"averageAmount\":  \"116.67\",\n      \"amountByCategory\": {\n        \"electronics\": 300,\n        \"books\": 50\n      }\n    }\n  }\n]\n```\n\n### Splitting One Item into Multiple Items\n\n```javascript\n// Expand a single item with an array into multiple items\n\nconst item = $input.first();\nconst tags = item.json. tags;\n\nreturn tags.map(tag => ({\n  json:  {\n    originalId: item.json. id,\n    tag: tag,\n    processedAt: new Date().toISOString()\n  }\n}));\n```\n\n**Input:**\n```json\n[\n  { \"id\": 123, \"tags\": [\"urgent\", \"billing\", \"support\"] }\n]\n```\n\n**Output:**\n```json\n[\n  { \"json\": { \"originalId\": 123, \"tag\": \"urgent\", \"processedAt\": \"2025-12-31T10:30:00.000Z\" } },\n  { \"json\": { \"originalId\": 123, \"tag\": \"billing\", \"processedAt\":  \"2025-12-31T10:30:00.000Z\" } },\n  { \"json\":  { \"originalId\":  123, \"tag\": \"support\", \"processedAt\": \"2025-12-31T10:30:00.000Z\" } }\n]\n```\n\n### Grouping Items\n\n```javascript\n// Group items by a common property\n\nconst items = $input.all();\n\nconst grouped = items.reduce((acc, item) => {\n  const key = item.json. department;\n  if (! acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(item. json);\n  return acc;\n}, {});\n\n// Return each group as a separate item\nreturn Object.entries(grouped).map(([department, employees]) => ({\n  json: {\n    department: department,\n    employeeCount: employees. length,\n    employees: employees\n  }\n}));\n```\n\n**Input:**\n```json\n[\n  { \"name\": \"Alice\", \"department\": \"Engineering\" },\n  { \"name\": \"Bob\", \"department\": \"Marketing\" },\n  { \"name\": \"Charlie\", \"department\": \"Engineering\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"department\":  \"Engineering\",\n      \"employeeCount\":  2,\n      \"employees\": [\n        { \"name\":  \"Alice\", \"department\": \"Engineering\" },\n        { \"name\": \"Charlie\", \"department\": \"Engineering\" }\n      ]\n    }\n  },\n  {\n    \"json\":  {\n      \"department\": \"Marketing\",\n      \"employeeCount\": 1,\n      \"employees\": [\n        { \"name\": \"Bob\", \"department\": \"Marketing\" }\n      ]\n    }\n  }\n]\n```\n\n---\n\n## 5. Conditional Logic in Workflows\n\n### Basic Conditionals\n\n```javascript\n// Add conditional fields based on data\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item. json;\n  \n  let priority;\n  if (data.amount > 1000) {\n    priority = \"high\";\n  } else if (data.amount > 100) {\n    priority = \"medium\";\n  } else {\n    priority = \"low\";\n  }\n  \n  return {\n    json: {\n      ... data,\n      priority:  priority,\n      requiresApproval: data. amount > 500\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  { \"orderId\": 1, \"amount\": 1500 },\n  { \"orderId\": 2, \"amount\": 250 },\n  { \"orderId\": 3, \"amount\":  50 }\n]\n```\n\n**Output:**\n```json\n[\n  { \"json\": { \"orderId\": 1, \"amount\": 1500, \"priority\": \"high\", \"requiresApproval\": true } },\n  { \"json\":  { \"orderId\":  2, \"amount\": 250, \"priority\": \"medium\", \"requiresApproval\": false } },\n  { \"json\": { \"orderId\": 3, \"amount\": 50, \"priority\": \"low\", \"requiresApproval\": false } }\n]\n```\n\n### Using Ternary Operators\n\n```javascript\n// Concise conditionals with ternary operators\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      ...data,\n      status: data. isActive ? \"active\" : \"inactive\",\n      displayName: data.nickname || data.fullName || \"Unknown User\",\n      tier: data.purchases > 100 ?  \"gold\" : data.purchases > 50 ? \"silver\" : \"bronze\"\n    }\n  };\n});\n```\n\n### Nullish Coalescing and Optional Chaining\n\n```javascript\n// Safely handle missing or null data\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item. json;\n  \n  return {\n    json: {\n      // Optional chaining - safely access nested properties\n      city: data.address?. city ??  \"Unknown\",\n      country: data.address?.country ?? \"Unknown\",\n      \n      // Nullish coalescing - provide defaults for null/undefined\n      phone: data.phone ??  \"No phone provided\",\n      \n      // Combine both for deeply nested data\n      managerName: data.team?.manager?.name ??  \"No manager assigned\",\n      \n      // Note: || treats 0, \"\", false as falsy; ??  only treats null/undefined\n      score: data.score ?? 0,  // Preserves 0 if that's the value\n      legacyScore: data.score || 0  // Would replace 0 with 0 (same here, but beware)\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  { \n    \"name\": \"Alice\", \n    \"address\":  { \"city\": \"Boston\", \"country\": \"USA\" },\n    \"score\": 0\n  },\n  { \n    \"name\": \"Bob\",\n    \"phone\": \"555-1234\"\n  }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"city\": \"Boston\",\n      \"country\":  \"USA\",\n      \"phone\": \"No phone provided\",\n      \"managerName\":  \"No manager assigned\",\n      \"score\":  0,\n      \"legacyScore\": 0\n    }\n  },\n  {\n    \"json\": {\n      \"city\": \"Unknown\",\n      \"country\": \"Unknown\",\n      \"phone\": \"555-1234\",\n      \"managerName\": \"No manager assigned\",\n      \"score\": 0,\n      \"legacyScore\": 0\n    }\n  }\n]\n```\n\n### Routing Logic (Preparing for IF Node)\n\n```javascript\n// Add routing flags for downstream IF nodes\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Determine routing\n  const needsReview = data.amount > 1000 || data.isNewCustomer;\n  const isUrgent = data. priority === \"high\" || data. dueInDays < 2;\n  \n  return {\n    json: {\n      ... data,\n      _routing: {\n        needsReview: needsReview,\n        isUrgent: isUrgent,\n        channel: data.preferredContact === \"email\" ? \"email\" : \"sms\"\n      }\n    }\n  };\n});\n```\n\n---\n\n## 6. Data Transformation and Mapping\n\n### Restructuring Objects\n\n```javascript\n// Transform API response structure to your desired format\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // Rename fields\n      userId: data.id,\n      userName: data.name,\n      userEmail:  data.email,\n      \n      // Nest related data\n      contact: {\n        email: data.email,\n        phone: data.phone_number,\n        address: `${data.street}, ${data.city}, ${data.zip}`\n      },\n      \n      // Flatten nested data\n      companyName: data.company?. name,\n      companyIndustry: data. company?.industry\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  {\n    \"id\":  123,\n    \"name\": \"Alice\",\n    \"email\": \"alice@example.com\",\n    \"phone_number\": \"555-1234\",\n    \"street\": \"123 Main St\",\n    \"city\":  \"Boston\",\n    \"zip\": \"02101\",\n    \"company\":  {\n      \"name\": \"TechCorp\",\n      \"industry\": \"Software\"\n    }\n  }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"userId\":  123,\n      \"userName\": \"Alice\",\n      \"userEmail\": \"alice@example.com\",\n      \"contact\": {\n        \"email\":  \"alice@example. com\",\n        \"phone\": \"555-1234\",\n        \"address\": \"123 Main St, Boston, 02101\"\n      },\n      \"companyName\":  \"TechCorp\",\n      \"companyIndustry\":  \"Software\"\n    }\n  }\n]\n```\n\n### Working with Nested Arrays\n\n```javascript\n// Process items with nested arrays\n\nconst items = $input. all();\n\nreturn items.map(item => {\n  const order = item.json;\n  \n  // Calculate totals from line items\n  const lineItems = order.items || [];\n  const subtotal = lineItems. reduce((sum, li) => sum + (li.price * li.quantity), 0);\n  const itemCount = lineItems.reduce((sum, li) => sum + li. quantity, 0);\n  \n  return {\n    json: {\n      orderId: order.id,\n      customerName: order.customer,\n      itemCount: itemCount,\n      subtotal:  subtotal,\n      tax: subtotal * 0.08,\n      total: subtotal * 1.08,\n      itemSummary: lineItems.map(li => `${li.name} x${li.quantity}`).join(\", \")\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  {\n    \"id\": \"ORD-001\",\n    \"customer\":  \"Alice\",\n    \"items\": [\n      { \"name\": \"Widget\", \"price\": 10, \"quantity\": 3 },\n      { \"name\": \"Gadget\", \"price\": 25, \"quantity\": 2 }\n    ]\n  }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\":  {\n      \"orderId\": \"ORD-001\",\n      \"customerName\":  \"Alice\",\n      \"itemCount\": 5,\n      \"subtotal\": 80,\n      \"tax\": 6.4,\n      \"total\": 86.4,\n      \"itemSummary\": \"Widget x3, Gadget x2\"\n    }\n  }\n]\n```\n\n### Type Conversion\n\n```javascript\n// Convert data types for consistency\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // String to Number\n      amount: parseFloat(data.amount) || 0,\n      quantity: parseInt(data. quantity, 10) || 0,\n      \n      // Number to String\n      orderId: String(data.id),\n      price: data.price. toFixed(2),\n      \n      // String to Boolean\n      isActive: data.status === \"active\" || data.status === \"1\" || data.status === true,\n      \n      // Boolean to String\n      statusText: data.isEnabled ? \"Enabled\" : \"Disabled\",\n      \n      // Array to String\n      tags: Array.isArray(data.tags) ? data.tags.join(\", \") : data.tags,\n      \n      // String to Array\n      emails: typeof data.emails === \"string\" ?  data.emails.split(\",\").map(e => e.trim()) : data.emails\n    }\n  };\n});\n```\n\n### Removing and Selecting Fields\n\n```javascript\n// Pick only specific fields or remove unwanted ones\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Method 1: Pick specific fields (whitelist)\n  const { id, name, email } = data;\n  const picked = { id, name, email };\n  \n  // Method 2: Remove specific fields (blacklist)\n  const { password, ssn, creditCard, ... safeData } = data;\n  \n  return {\n    json: {\n      // Using picked fields\n      ... picked,\n      // Or using safe data (everything except sensitive fields)\n      // ...safeData\n      \n      // Add metadata\n      processedAt: new Date().toISOString()\n    }\n  };\n});\n```\n\n---\n\n## 7. Error Handling in n8n\n\n### Try-Catch for Safe Processing\n\n```javascript\n// Handle errors gracefully without breaking the workflow\n\nconst items = $input.all();\nconst results = [];\nconst errors = [];\n\nfor (const item of items) {\n  try {\n    const data = item.json;\n    \n    // Potentially risky operation\n    if (! data.email) {\n      throw new Error(\"Email is required\");\n    }\n    \n    const domain = data.email. split(\"@\")[1];\n    if (!domain) {\n      throw new Error(\"Invalid email format\");\n    }\n    \n    results.push({\n      json: {\n        ...data,\n        domain: domain,\n        processed: true,\n        error: null\n      }\n    });\n    \n  } catch (error) {\n    // Capture error but continue processing\n    errors. push({\n      json: {\n        originalData: item.json,\n        processed: false,\n        error: error.message\n      }\n    });\n  }\n}\n\n// Return both successful and failed items\nreturn [... results, ...errors];\n```\n\n**Input:**\n```json\n[\n  { \"name\": \"Alice\", \"email\": \"alice@example.com\" },\n  { \"name\": \"Bob\", \"email\": \"invalid-email\" },\n  { \"name\": \"Charlie\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"name\": \"Alice\",\n      \"email\": \"alice@example.com\",\n      \"domain\": \"example.com\",\n      \"processed\": true,\n      \"error\":  null\n    }\n  },\n  {\n    \"json\":  {\n      \"originalData\": { \"name\": \"Bob\", \"email\": \"invalid-email\" },\n      \"processed\": false,\n      \"error\":  \"Invalid email format\"\n    }\n  },\n  {\n    \"json\": {\n      \"originalData\": { \"name\": \"Charlie\" },\n      \"processed\":  false,\n      \"error\": \"Email is required\"\n    }\n  }\n]\n```\n\n### Validation Functions\n\n```javascript\n// Create reusable validation logic\n\nfunction validateItem(data) {\n  const errors = [];\n  \n  if (!data. name || data.name.trim() === \"\") {\n    errors.push(\"Name is required\");\n  }\n  \n  if (!data.email) {\n    errors. push(\"Email is required\");\n  } else if (!data. email.includes(\"@\")) {\n    errors.push(\"Email must be valid\");\n  }\n  \n  if (data.age !== undefined && (data.age < 0 || data. age > 150)) {\n    errors. push(\"Age must be between 0 and 150\");\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors: errors\n  };\n}\n\nconst items = $input. all();\n\nreturn items.map(item => {\n  const data = item.json;\n  const validation = validateItem(data);\n  \n  return {\n    json: {\n      ...data,\n      _validation: validation\n    }\n  };\n});\n```\n\n### Throwing Errors to Stop Workflow\n\n```javascript\n// Sometimes you WANT to stop the workflow on error\n\nconst items = $input.all();\n\nif (items.length === 0) {\n  throw new Error(\"No items received - cannot continue\");\n}\n\nconst criticalItem = items. find(item => item.json.type === \"critical\");\n\nif (! criticalItem) {\n  throw new Error(\"No critical items found - workflow cannot proceed\");\n}\n\n// Continue with normal processing\nreturn items.map(item => ({\n  json: {\n    ...item. json,\n    processed: true\n  }\n}));\n```\n\n---\n\n## 8. Date and String Manipulation\n\n### Working with Dates\n\n```javascript\n// Date handling for automation workflows\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item. json;\n  \n  // Parse date string\n  const createdDate = new Date(data.createdAt);\n  const now = new Date();\n  \n  // Calculate differences\n  const ageInMs = now - createdDate;\n  const ageInDays = Math.floor(ageInMs / (1000 * 60 * 60 * 24));\n  const ageInHours = Math.floor(ageInMs / (1000 * 60 * 60));\n  \n  // Format dates\n  const formattedDate = createdDate. toISOString().split(\"T\")[0]; // YYYY-MM-DD\n  const formattedTime = createdDate.toTimeString().split(\" \")[0]; // HH:MM: SS\n  \n  // Add/subtract time\n  const dueDate = new Date(createdDate);\n  dueDate.setDate(dueDate. getDate() + 7); // Add 7 days\n  \n  // Check conditions\n  const isOverdue = now > dueDate;\n  const isWeekend = [0, 6]. includes(createdDate.getDay());\n  \n  return {\n    json: {\n      ...data,\n      dateInfo: {\n        original: data.createdAt,\n        formatted: formattedDate,\n        time:  formattedTime,\n        ageInDays:  ageInDays,\n        ageInHours: ageInHours,\n        dueDate: dueDate.toISOString(),\n        isOverdue: isOverdue,\n        isWeekend: isWeekend,\n        dayOfWeek: createdDate.toLocaleDateString(\"en-US\", { weekday: \"long\" })\n      }\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  { \"id\": 1, \"createdAt\": \"2025-12-24T10:30:00Z\" }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"id\": 1,\n      \"createdAt\": \"2025-12-24T10:30:00Z\",\n      \"dateInfo\": {\n        \"original\": \"2025-12-24T10:30:00Z\",\n        \"formatted\": \"2025-12-24\",\n        \"time\": \"10:30:00\",\n        \"ageInDays\": 7,\n        \"ageInHours\":  168,\n        \"dueDate\": \"2025-12-31T10:30:00.000Z\",\n        \"isOverdue\":  true,\n        \"isWeekend\": false,\n        \"dayOfWeek\": \"Wednesday\"\n      }\n    }\n  }\n]\n```\n\n### String Manipulation for Automation\n\n```javascript\n// Common string operations in workflows\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item. json;\n  \n  const name = data.name || \"\";\n  const email = data.email || \"\";\n  const description = data.description || \"\";\n  \n  return {\n    json:  {\n      // Cleaning\n      cleanName: name.trim(),\n      lowerEmail: email.toLowerCase().trim(),\n      \n      // Extracting\n      firstName:  name.split(\" \")[0],\n      lastName: name.split(\" \").slice(1).join(\" \"),\n      emailDomain: email. split(\"@\")[1] || \"\",\n      emailUsername: email.split(\"@\")[0] || \"\",\n      \n      // Checking\n      hasDescription: description.length > 0,\n      isGmail: email.toLowerCase().includes(\"gmail.com\"),\n      \n      // Transforming\n      slug: name.toLowerCase().replace(/\\s+/g, \"-\").replace(/[^a-z0-9-]/g, \"\"),\n      initials: name.split(\" \").map(word => word[0]?. toUpperCase()).join(\"\"),\n      truncated: description.length > 50 ? description.substring(0, 50) + \"...\" : description,\n      \n      // Formatting\n      phone: data.phone?. replace(/\\D/g, \"\"), // Remove non-digits\n      formatted: `${name} <${email}>`\n    }\n  };\n});\n```\n\n**Input:**\n```json\n[\n  {\n    \"name\":  \"  Alice Marie Smith  \",\n    \"email\": \"ALICE@Gmail.com\",\n    \"description\": \"This is a very long description that should be truncated for display purposes\",\n    \"phone\":  \"(555) 123-4567\"\n  }\n]\n```\n\n**Output:**\n```json\n[\n  {\n    \"json\": {\n      \"cleanName\": \"Alice Marie Smith\",\n      \"lowerEmail\": \"alice@gmail.com\",\n      \"firstName\": \"Alice\",\n      \"lastName\": \"Marie Smith\",\n      \"emailDomain\": \"Gmail. com\",\n      \"emailUsername\": \"ALICE\",\n      \"hasDescription\": true,\n      \"isGmail\":  true,\n      \"slug\": \"alice-marie-smith\",\n      \"initials\":  \"AMS\",\n      \"truncated\": \"This is a very long description that should be t.. .\",\n      \"phone\": \"5551234567\",\n      \"formatted\": \"  Alice Marie Smith   <ALICE@Gmail.com>\"\n    }\n  }\n]\n```\n\n### Template Strings for Messages\n\n```javascript\n// Build formatted messages for notifications\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Simple template\n  const greeting = `Hello ${data.name}, welcome to our platform!`;\n  \n  // Multi-line template\n  const emailBody = `\nDear ${data.name},\n\nYour order #${data. orderId} has been confirmed. \n\nOrder Details:\n- Items: ${data.itemCount}\n- Total: $${data. total. toFixed(2)}\n- Estimated Delivery: ${data.deliveryDate}\n\nThank you for your purchase!\n\nBest regards,\nThe Team\n  `.trim();\n  \n  // Conditional content in templates\n  const slackMessage = `\n*New Order Received* 🛒\n• Customer: ${data.name}\n• Amount: $${data. total.toFixed(2)}\n${data.isVIP ? \"• ⭐ VIP Customer - Priority Handling\" : \"\"}\n${data.notes ? `• Notes: ${data.notes}` : \"\"}\n  `.trim();\n  \n  return {\n    json: {\n      ... data,\n      messages: {\n        greeting:  greeting,\n        emailBody: emailBody,\n        slackMessage: slackMessage\n      }\n    }\n  };\n});\n```\n\n---\n\n## 9. Best Practices\n\n### Use Meaningful Variable Names\n\n```javascript\n// ❌ BAD - Unclear names\nconst items = $input.all();\nconst x = items.filter(i => i.json. a > 100);\nreturn x. map(i => ({ json: { v: i.json. b } }));\n\n// ✅ GOOD - Clear, descriptive names\nconst allOrders = $input. all();\nconst highValueOrders = allOrders.filter(order => order.json. amount > 100);\nreturn highValueOrders.map(order => ({\n  json: {\n    customerName: order.json.customerName,\n    orderAmount: order.json. amount\n  }\n}));\n```\n\n### Break Down Complex Logic\n\n```javascript\n// ✅ GOOD - Separate concerns into functions\n\nfunction calculateOrderTotal(items) {\n  return items. reduce((sum, item) => sum + (item.price * item.quantity), 0);\n}\n\nfunction determineShippingTier(total) {\n  if (total > 100) return \"free\";\n  if (total > 50) return \"reduced\";\n  return \"standard\";\n}\n\nfunction formatOrderSummary(order) {\n  const total = calculateOrderTotal(order.items);\n  const shipping = determineShippingTier(total);\n  \n  return {\n    orderId: order.id,\n    subtotal: total,\n    shippingTier:  shipping,\n    estimatedTotal: shipping === \"free\" ?  total : total + 9.99\n  };\n}\n\nconst items = $input. all();\n\nreturn items.map(item => ({\n  json: formatOrderSummary(item. json)\n}));\n```\n\n### Comment Your Code\n\n```javascript\n// ✅ GOOD - Helpful comments explain WHY, not just WHAT\n\nconst items = $input. all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Business rule: Orders over $500 require manager approval\n  const needsApproval = data.amount > 500;\n  \n  // Legacy system expects dates in MM/DD/YYYY format\n  const formattedDate = new Date(data.createdAt)\n    .toLocaleDateString(\"en-US\");\n  \n  // Combine first and last name, handling missing values\n  // Some older records only have fullName field\n  const displayName = data.firstName \n    ? `${data.firstName} ${data.lastName || \"\"}`.trim()\n    : data.fullName || \"Unknown\";\n  \n  return {\n    json: {\n      ...data,\n      needsApproval,\n      formattedDate,\n      displayName\n    }\n  };\n});\n```\n\n### Handle Edge Cases\n\n```javascript\n// ✅ GOOD - Defensive coding\n\nconst items = $input.all();\n\n// Handle empty input\nif (!items || items.length === 0) {\n  return [{\n    json: {\n      status: \"no_data\",\n      message:  \"No items to process\",\n      processedAt: new Date().toISOString()\n    }\n  }];\n}\n\nreturn items.map(item => {\n  const data = item.json || {};\n  \n  // Safe access with defaults\n  const name = data.name?. trim() || \"Unknown\";\n  const email = data.email?. toLowerCase().trim() || null;\n  const tags = Array.isArray(data.tags) ? data.tags : [];\n  const metadata = typeof data.metadata === \"object\" ? data. metadata : {};\n  \n  return {\n    json: {\n      name,\n      email,\n      hasTags: tags. length > 0,\n      tagCount: tags.length,\n      hasMetadata: Object. keys(metadata).length > 0\n    }\n  };\n});\n```\n\n### Keep It Simple\n\n```javascript\n// ❌ OVER-ENGINEERED\nconst items = $input.all();\nreturn items.reduce((acc, item, idx) => {\n  return [... acc, { json:  Object.assign({}, item.json, { index: idx }) }];\n}, []);\n\n// ✅ SIMPLE AND CLEAR\nconst items = $input.all();\nreturn items.map((item, index) => ({\n  json: {\n    ...item. json,\n    index\n  }\n}));\n```\n\n---\n\n## 10. Common Mistakes Web Developers Make\n\n### Mistake 1: Forgetting the json Wrapper\n\n```javascript\n// ❌ WRONG - Missing json wrapper\nreturn $input.all().map(item => ({\n  name: item.json. name,\n  email: item.json. email\n}));\n\n// ✅ CORRECT - Proper n8n format\nreturn $input. all().map(item => ({\n  json: {\n    name: item.json. name,\n    email: item.json. email\n  }\n}));\n```\n\n### Mistake 2: Using Browser APIs\n\n```javascript\n// ❌ WRONG - Browser-only APIs don't exist in n8n\nconst element = document.getElementById(\"myDiv\");  // ERROR! \nwindow.localStorage.setItem(\"key\", \"value\");       // ERROR! \nalert(\"Hello\");                                    // ERROR! \nfetch(\"https://api.example.com\");                  // Use HTTP Request node instead\n\n// ✅ CORRECT - Use n8n-compatible code\n// For HTTP requests, use the HTTP Request node\n// For data storage, use n8n's workflow static data or external databases\n// For logging, you can use console.log (visible in execution data)\nconsole.log(\"Debug message\");\n```\n\n### Mistake 3: Returning Wrong Data Type\n\n```javascript\n// ❌ WRONG - Returning string\nreturn \"Success\";\n\n// ❌ WRONG - Returning plain object\nreturn { status: \"success\" };\n\n// ❌ WRONG - Returning array without json property\nreturn [{ status: \"success\" }];\n\n// ✅ CORRECT - Array of objects with json property\nreturn [{ json: { status: \"success\" } }];\n```\n\n### Mistake 4: Not Accessing item.json\n\n```javascript\n// ❌ WRONG - Trying to access properties directly on item\nconst items = $input.all();\nreturn items.map(item => ({\n  json: {\n    name: item.name  // undefined!  \n  }\n}));\n\n// ✅ CORRECT - Access through item.json\nconst items = $input. all();\nreturn items.map(item => ({\n  json:  {\n    name:  item.json.name  // Correct! \n  }\n}));\n```\n\n### Mistake 5: Confusing Modes\n\n```javascript\n// ❌ WRONG - Using $json in \"Run Once for All Items\" mode\n// $json only works in \"Run Once for Each Item\" mode\nconst name = $json.name;  // May not work as expected\n\n// ✅ CORRECT for \"Run Once for All Items\" mode\nconst items = $input.all();\nconst firstItemName = items[0]?.json. name;\n\n// ✅ CORRECT for \"Run Once for Each Item\" mode\nconst name = $json.name;  // Works because it refers to current item\n```\n\n### Mistake 6: Async/Await Without Proper Handling\n\n```javascript\n// ❌ WRONG - Async without returning Promise\nasync function getData() {\n  // some async operation\n}\ngetData();  // Promise not awaited\nreturn [{ json: { status: \"done\" } }];\n\n// ✅ CORRECT - Proper async handling\n// Note: n8n Code node handles top-level await in some versions\nconst items = $input.all();\n\n// If you need async operations, use the HTTP Request node\n// or ensure your n8n version supports async in Code nodes\nreturn items.map(item => ({\n  json:  { ... item.json }\n}));\n```\n\n### Mistake 7: Mutating Input Data\n\n```javascript\n// ❌ BAD PRACTICE - Mutating original data\nconst items = $input.all();\nitems[0]. json.name = \"Modified\";  // Mutates original! \nreturn items;\n\n// ✅ GOOD PRACTICE - Create new objects\nconst items = $input.all();\nreturn items.map(item => ({\n  json: {\n    ...item. json,\n    name: \"Modified\"\n  }\n}));\n```\n\n### Mistake 8: Not Handling Empty Arrays\n\n```javascript\n// ❌ PROBLEMATIC - Will error on empty input\nconst items = $input.all();\nconst firstItem = items[0]. json;  // TypeError if items is empty! \n\n// ✅ SAFE - Handle empty input\nconst items = $input. all();\nif (items.length === 0) {\n  return [];  // or return a default item\n}\nconst firstItem = items[0].json;\n```\n\n---\n\n## Quick Reference Cheat Sheet\n\n```javascript\n// ═══════════════════════════════════════════════════════════════\n// n8n CODE NODE QUICK REFERENCE\n// ═══════════════════════════════════════════════════════════════\n\n// ─── ACCESSING DATA ───────────────────────────────────────────\n$input.all()          // All items as array\n$input. first()        // First item only\n$input.last()         // Last item only\n$json                 // Current item data (Each Item mode only)\n$json.propertyName    // Access specific property\n\n// ─── RETURN FORMAT (ALWAYS REQUIRED) ──────────────────────────\nreturn [{ json: { key: \"value\" } }];  // Single item\nreturn items. map(i => ({ json: i.json }));  // Multiple items\nreturn [];  // Empty result (stops branch)\n\n// ─── COMMON PATTERNS ──────────────────────────────────────────\n// Transform items\nreturn $input.all().map(item => ({\n  json: { ...item.json, newField: \"value\" }\n}));\n\n// Filter items  \nreturn $input.all()\n  .filter(item => item.json.status === \"active\")\n  .map(item => ({ json: item.json }));\n\n// Aggregate to single item\nreturn [{\n  json: {\n    total: $input.all().reduce((sum, i) => sum + i.json.amount, 0)\n  }\n}];\n\n// ─── SAFE DATA ACCESS ─────────────────────────────────────────\nitem.json?. property ??  \"default\"  // Optional chaining + nullish coalescing\nArray.isArray(data.items) ? data.items : []  // Safe array check\n\n// ═══════════════════════════════════════════════════════════════\n```\n\n---\n\n## Conclusion\n\nThis guide covers the essential patterns for writing JavaScript in n8n's Code node. Remember:\n\n1. **Always return the correct format**:  `[{ json: { ...  } }]`\n2. **Access data through `.json`**: `item.json.property`, not `item.property`\n3. **Handle edge cases**: Empty arrays, missing properties, invalid data\n4. **Use n8n patterns**: `$input.all()`, `$json`, proper return structures\n5. **Avoid browser APIs**: No `document`, `window`, `fetch`, etc.\n\nPractice with simple transformations first, then build up to more complex data processing as you become comfortable with n8n's patterns. ",
        "height": 1216,
        "width": 1552,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        7504,
        -112
      ],
      "typeVersion": 1,
      "id": "b0bf8241-41ec-4352-be8a-e25ede631292",
      "name": "Sticky Note16"
    },
    {
      "parameters": {
        "jsCode": "// n8n Code nodes MUST return an array of objects\n// Each object MUST have a 'json' property containing your data\n\nreturn [\n  {\n    json: {\n      message: \"Hello from n8n!\",\n      timestamp: new Date().toISOString()\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        16
      ],
      "id": "db7f5e0a-d80e-4491-b7c4-9dc47f6863de",
      "name": "1.1 Basic Structure"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "input-02-1",
              "name": "name",
              "value": "Alice",
              "type": "string"
            },
            {
              "id": "input-02-2",
              "name": "age",
              "value": "30",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2880,
        224
      ],
      "id": "101da0b6-a19c-4711-8f7b-5c833cee4eac",
      "name": "Input: User Data"
    },
    {
      "parameters": {
        "jsCode": "// When in \"Run Once for Each Item\" mode, $json gives direct access\n// to the current item's data\n\n// Input:  { \"name\": \"Alice\", \"age\": 30 }\n\nconst userName = $json.name;\nconst userAge = $json.age;\n\nreturn [\n  {\n    json: {\n      greeting: `Hello, ${userName}!`,\n      birthYear: 2025 - userAge\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        224
      ],
      "id": "4f74bd66-ac35-4896-b935-60dc28fc7cf8",
      "name": "2.1 Using $json (Each Item Mode)"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Multiple employees\nreturn [\n  { json: { name: \"Alice\", department: \"Engineering\" } },\n  { json: { name: \"Bob\", department: \"Marketing\" } },\n  { json: { name: \"Charlie\", department: \"Engineering\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        416
      ],
      "id": "36dd2f29-6eca-47b2-98f2-34f0aed40ac0",
      "name": "Input: Employees"
    },
    {
      "parameters": {
        "jsCode": "// Get all items and process them together\nconst allItems = $input.all();\n\n// Each item has a 'json' property containing the actual data\nconst names = allItems.map(item => item.json.name);\n\nreturn [\n  {\n    json: {\n      totalItems: allItems.length,\n      allNames: names,\n      firstPerson: allItems[0].json.name\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        416
      ],
      "id": "b26b8bc7-97e6-4895-af68-161ecf697e2e",
      "name": "2.2 Using $input.all()"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Names list\nreturn [\n  { json: { name: \"Alice\" } },\n  { json: { name: \"Bob\" } },\n  { json: { name: \"Charlie\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        624
      ],
      "id": "db32f53c-8a3a-4ece-ab6f-488fccb90409",
      "name": "Input: Names"
    },
    {
      "parameters": {
        "jsCode": "// Get specific items from the input\nconst firstItem = $input.first();\nconst lastItem = $input.last();\n\nreturn [\n  {\n    json: {\n      firstPerson: firstItem.json.name,\n      lastPerson: lastItem.json.name,\n      message: `Processing from ${firstItem.json.name} to ${lastItem.json.name}`\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        624
      ],
      "id": "e0f83233-2a31-4566-b49e-c5f38d8c6a1d",
      "name": "2.3 Using $input.first() and last()"
    },
    {
      "parameters": {
        "jsCode": "// Return multiple items for the next node to process\n\nreturn [\n  { json: { id: 1, status: \"active\" } },\n  { json: { id: 2, status: \"pending\" } },\n  { json: { id: 3, status: \"active\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        816
      ],
      "id": "bd898d6c-9093-480b-8c1f-23deac554105",
      "name": "3.1 Returning Multiple Items"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Items with status\nreturn [\n  { json: { id: 1, status: \"active\" } },\n  { json: { id: 2, status: \"pending\" } },\n  { json: { id: 3, status: \"inactive\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        1024
      ],
      "id": "379385ba-f85f-436f-b993-2716fcee440e",
      "name": "Input: Status Items"
    },
    {
      "parameters": {
        "jsCode": "// Return empty array when you want to stop the workflow branch\n// or when filtering removes all items\n\nconst items = $input.all();\nconst activeItems = items.filter(item => item.json.status === \"active\");\n\nif (activeItems.length === 0) {\n  // Return empty array - workflow branch stops here\n  return [];\n}\n\nreturn activeItems.map(item => ({\n  json: item.json\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        1024
      ],
      "id": "013f377e-8f49-46f7-ab01-9bb05a26af83",
      "name": "3.2 Returning Empty Result"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with emails\nreturn [\n  { json: { name: \"Alice\", email: \"alice@example.com\" } },\n  { json: { name: \"Bob\", email: \"invalid-email\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        1216
      ],
      "id": "10fa12f3-07b7-4ba0-89c4-53cdd0625544",
      "name": "Input: Users with Emails"
    },
    {
      "parameters": {
        "jsCode": "// Use spread operator to keep original data and add new fields\n\nconst items = $input.all();\n\nreturn items.map(item => ({\n  json: {\n    ...item.json,  // Spread original data\n    processedAt: new Date().toISOString(),\n    isValid: item.json.email?.includes(\"@\") ?? false\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        1216
      ],
      "id": "0ee09e50-288d-42ab-8099-18392a880473",
      "name": "3.3 Preserving Data & Adding Fields"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with names and emails\nreturn [\n  { json: { firstName: \"Alice\", lastName: \"Smith\", email: \"ALICE@Example.com\" } },\n  { json: { firstName: \"Bob\", lastName: \"Jones\", email: \"BOB@Example.com\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        1424
      ],
      "id": "8953376f-edd6-416d-ae4d-67cb6bd984e7",
      "name": "Input: Full Names"
    },
    {
      "parameters": {
        "jsCode": "// Transform each item in the input\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      fullName: `${data.firstName} ${data.lastName}`,\n      email: data.email.toLowerCase(),\n      username: data.email.split(\"@\")[0]\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        1424
      ],
      "id": "a8fad7c1-cf0a-4609-9f9e-e792b6c67c05",
      "name": "4.1 Processing Each Item"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with age and status\nreturn [\n  { json: { name: \"Alice\", age: 25, status: \"active\" } },\n  { json: { name: \"Bob\", age: 16, status: \"active\" } },\n  { json: { name: \"Charlie\", age: 30, status: \"inactive\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        1616
      ],
      "id": "00a66ae3-6441-41e7-9d72-7c0cdbfca7bb",
      "name": "Input: Users Age Status"
    },
    {
      "parameters": {
        "jsCode": "// Keep only items that match a condition\n\nconst items = $input.all();\n\nconst filteredItems = items.filter(item => {\n  const data = item.json;\n  return data.age >= 18 && data.status === \"active\";\n});\n\n// Must still wrap in proper return format\nreturn filteredItems.map(item => ({\n  json: item.json\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        1616
      ],
      "id": "be40f35c-4004-4937-9911-a8cb017a8fd2",
      "name": "4.2 Filtering Items"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders with amounts\nreturn [\n  { json: { orderId: 1, amount: 100, category: \"electronics\" } },\n  { json: { orderId: 2, amount: 50, category: \"books\" } },\n  { json: { orderId: 3, amount: 200, category: \"electronics\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        1824
      ],
      "id": "c5c6b77d-e1e1-4b26-9c5e-4852f25b95d4",
      "name": "Input: Orders"
    },
    {
      "parameters": {
        "jsCode": "// Combine multiple items into a single summary\n\nconst items = $input.all();\n\nconst totalAmount = items.reduce((sum, item) => {\n  return sum + item.json.amount;\n}, 0);\n\nconst averageAmount = totalAmount / items.length;\n\nconst byCategory = items.reduce((acc, item) => {\n  const category = item.json.category;\n  acc[category] = (acc[category] || 0) + item.json.amount;\n  return acc;\n}, {});\n\nreturn [\n  {\n    json: {\n      totalOrders: items.length,\n      totalAmount: totalAmount,\n      averageAmount: averageAmount.toFixed(2),\n      amountByCategory: byCategory\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3088,
        1824
      ],
      "id": "48c59924-8806-4fc8-91d2-18aebb8d1bc0",
      "name": "4.3 Aggregating Data"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Item with tags array\nreturn [\n  { json: { id: 123, tags: [\"urgent\", \"billing\", \"support\"] } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        0
      ],
      "id": "5aa307e3-5440-4423-bf47-8e45b202024b",
      "name": "Input: Item with Tags"
    },
    {
      "parameters": {
        "jsCode": "// Expand a single item with an array into multiple items\n\nconst item = $input.first();\nconst tags = item.json.tags;\n\nreturn tags.map(tag => ({\n  json: {\n    originalId: item.json.id,\n    tag: tag,\n    processedAt: new Date().toISOString()\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        0
      ],
      "id": "e273fe2c-eb0b-448d-93f1-1ef8f1c1869d",
      "name": "4.4 Splitting One Item into Multiple"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Employees by department\nreturn [\n  { json: { name: \"Alice\", department: \"Engineering\" } },\n  { json: { name: \"Bob\", department: \"Marketing\" } },\n  { json: { name: \"Charlie\", department: \"Engineering\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        208
      ],
      "id": "2eeeec75-c6c1-468b-8f42-870af547b2b1",
      "name": "Input: Employees Dept"
    },
    {
      "parameters": {
        "jsCode": "// Group items by a common property\n\nconst items = $input.all();\n\nconst grouped = items.reduce((acc, item) => {\n  const key = item.json.department;\n  if (!acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(item.json);\n  return acc;\n}, {});\n\n// Return each group as a separate item\nreturn Object.entries(grouped).map(([department, employees]) => ({\n  json: {\n    department: department,\n    employeeCount: employees.length,\n    employees: employees\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        208
      ],
      "id": "7a3290ad-c93d-45ff-b245-21e77ef2f49c",
      "name": "4.5 Grouping Items"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders with amounts\nreturn [\n  { json: { orderId: 1, amount: 1500 } },\n  { json: { orderId: 2, amount: 250 } },\n  { json: { orderId: 3, amount: 50 } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        400
      ],
      "id": "71ccf351-8a54-45d5-923a-7cc057f364d8",
      "name": "Input: Order Amounts"
    },
    {
      "parameters": {
        "jsCode": "// Add conditional fields based on data\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  let priority;\n  if (data.amount > 1000) {\n    priority = \"high\";\n  } else if (data.amount > 100) {\n    priority = \"medium\";\n  } else {\n    priority = \"low\";\n  }\n  \n  return {\n    json: {\n      ...data,\n      priority: priority,\n      requiresApproval: data.amount > 500\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        400
      ],
      "id": "9503b79a-018b-4468-8a68-da035e0e6723",
      "name": "5.1 Basic Conditionals"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with activity\nreturn [\n  { json: { isActive: true, nickname: \"Ally\", fullName: \"Alice Smith\", purchases: 150 } },\n  { json: { isActive: false, fullName: \"Bob Jones\", purchases: 30 } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        608
      ],
      "id": "293590d0-5d9f-4df4-8364-9106c757cc30",
      "name": "Input: User Activity"
    },
    {
      "parameters": {
        "jsCode": "// Concise conditionals with ternary operators\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      ...data,\n      status: data.isActive ? \"active\" : \"inactive\",\n      displayName: data.nickname || data.fullName || \"Unknown User\",\n      tier: data.purchases > 100 ? \"gold\" : data.purchases > 50 ? \"silver\" : \"bronze\"\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        608
      ],
      "id": "18d43d08-013f-4b25-9a83-3363ce7b520a",
      "name": "5.2 Using Ternary Operators"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with nested data\nreturn [\n  { json: { name: \"Alice\", address: { city: \"Boston\", country: \"USA\" }, score: 0 } },\n  { json: { name: \"Bob\", phone: \"555-1234\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        800
      ],
      "id": "77ccf3bd-b766-402a-a0ca-eb251feb429d",
      "name": "Input: Nested Data"
    },
    {
      "parameters": {
        "jsCode": "// Safely handle missing or null data\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // Optional chaining - safely access nested properties\n      city: data.address?.city ?? \"Unknown\",\n      country: data.address?.country ?? \"Unknown\",\n      \n      // Nullish coalescing - provide defaults for null/undefined\n      phone: data.phone ?? \"No phone provided\",\n      \n      // Combine both for deeply nested data\n      managerName: data.team?.manager?.name ?? \"No manager assigned\",\n      \n      // Note: || treats 0, \"\", false as falsy; ?? only treats null/undefined\n      score: data.score ?? 0,  // Preserves 0 if that's the value\n      legacyScore: data.score || 0  // Would replace 0 with 0 (same here, but beware)\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        800
      ],
      "id": "336b7770-25b2-470d-a7ce-9e19bc8b561e",
      "name": "5.3 Nullish Coalescing & Optional Chaining"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders for routing\nreturn [\n  { json: { orderId: 1, amount: 1500, isNewCustomer: true, priority: \"high\", dueInDays: 1, preferredContact: \"email\" } },\n  { json: { orderId: 2, amount: 200, isNewCustomer: false, priority: \"low\", dueInDays: 5, preferredContact: \"sms\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        1008
      ],
      "id": "8702658e-ef21-4068-932b-4983996f15b0",
      "name": "Input: Orders Routing"
    },
    {
      "parameters": {
        "jsCode": "// Add routing flags for downstream IF nodes\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Determine routing\n  const needsReview = data.amount > 1000 || data.isNewCustomer;\n  const isUrgent = data.priority === \"high\" || data.dueInDays < 2;\n  \n  return {\n    json: {\n      ...data,\n      _routing: {\n        needsReview: needsReview,\n        isUrgent: isUrgent,\n        channel: data.preferredContact === \"email\" ? \"email\" : \"sms\"\n      }\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        1008
      ],
      "id": "21d2b943-7ffb-4472-9bae-b0e493ac8e6e",
      "name": "5.4 Routing Logic for IF Nodes"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: API response structure\nreturn [\n  { json: { id: 123, name: \"Alice\", email: \"alice@example.com\", phone_number: \"555-1234\", street: \"123 Main St\", city: \"Boston\", zip: \"02101\", company: { name: \"TechCorp\", industry: \"Software\" } } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        1200
      ],
      "id": "2c73de6a-132f-47cf-938e-0575fded0147",
      "name": "Input: API Response"
    },
    {
      "parameters": {
        "jsCode": "// Transform API response structure to your desired format\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // Rename fields\n      userId: data.id,\n      userName: data.name,\n      userEmail: data.email,\n      \n      // Nest related data\n      contact: {\n        email: data.email,\n        phone: data.phone_number,\n        address: `${data.street}, ${data.city}, ${data.zip}`\n      },\n      \n      // Flatten nested data\n      companyName: data.company?.name,\n      companyIndustry: data.company?.industry\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        1200
      ],
      "id": "0e8783b0-fe15-476d-9372-067206fab1be",
      "name": "6.1 Restructuring Objects"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Order with line items\nreturn [\n  { json: { id: \"ORD-001\", customer: \"Alice\", items: [ { name: \"Widget\", price: 10, quantity: 3 }, { name: \"Gadget\", price: 25, quantity: 2 } ] } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        1408
      ],
      "id": "112e2bc4-3996-47bf-b517-60b293a3ba88",
      "name": "Input: Order Line Items"
    },
    {
      "parameters": {
        "jsCode": "// Process items with nested arrays\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const order = item.json;\n  \n  // Calculate totals from line items\n  const lineItems = order.items || [];\n  const subtotal = lineItems.reduce((sum, li) => sum + (li.price * li.quantity), 0);\n  const itemCount = lineItems.reduce((sum, li) => sum + li.quantity, 0);\n  \n  return {\n    json: {\n      orderId: order.id,\n      customerName: order.customer,\n      itemCount: itemCount,\n      subtotal: subtotal,\n      tax: subtotal * 0.08,\n      total: subtotal * 1.08,\n      itemSummary: lineItems.map(li => `${li.name} x${li.quantity}`).join(\", \")\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        1408
      ],
      "id": "5df7954d-893f-495b-b0fb-a95089515715",
      "name": "6.2 Working with Nested Arrays"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Mixed types\nreturn [\n  { json: { amount: \"150.50\", quantity: \"5\", id: 123, price: 49.99, status: \"active\", isEnabled: true, tags: [\"urgent\", \"new\"], emails: \"alice@test.com, bob@test.com\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3376,
        1600
      ],
      "id": "229ed784-a341-41b6-8fd3-fb9bbef46e43",
      "name": "Input: Mixed Types"
    },
    {
      "parameters": {
        "jsCode": "// Convert data types for consistency\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // String to Number\n      amount: parseFloat(data.amount) || 0,\n      quantity: parseInt(data.quantity, 10) || 0,\n      \n      // Number to String\n      orderId: String(data.id),\n      price: data.price.toFixed(2),\n      \n      // String to Boolean\n      isActive: data.status === \"active\" || data.status === \"1\" || data.status === true,\n      \n      // Boolean to String\n      statusText: data.isEnabled ? \"Enabled\" : \"Disabled\",\n      \n      // Array to String\n      tags: Array.isArray(data.tags) ? data.tags.join(\", \") : data.tags,\n      \n      // String to Array\n      emails: typeof data.emails === \"string\" ? data.emails.split(\",\").map(e => e.trim()) : data.emails\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3584,
        1600
      ],
      "id": "b23e6ba6-3c51-4b69-b4c8-6d9f496a440a",
      "name": "6.3 Type Conversion"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: User with sensitive fields\nreturn [\n  { json: { id: 1, name: \"Alice\", email: \"alice@test.com\", password: \"secret123\", ssn: \"123-45-6789\", creditCard: \"4111111111111111\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        0
      ],
      "id": "d220e265-fd28-4037-98e7-db5d611a5aa8",
      "name": "Input: Sensitive Data"
    },
    {
      "parameters": {
        "jsCode": "// Pick only specific fields or remove unwanted ones\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Method 1: Pick specific fields (whitelist)\n  const { id, name, email } = data;\n  const picked = { id, name, email };\n  \n  // Method 2: Remove specific fields (blacklist)\n  const { password, ssn, creditCard, ...safeData } = data;\n  \n  return {\n    json: {\n      // Using picked fields\n      ...picked,\n      // Or using safe data (everything except sensitive fields)\n      // ...safeData\n      \n      // Add metadata\n      processedAt: new Date().toISOString()\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        0
      ],
      "id": "def62e94-9512-421f-9314-975f0ce9379a",
      "name": "6.4 Removing and Selecting Fields"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users with various email states\nreturn [\n  { json: { name: \"Alice\", email: \"alice@example.com\" } },\n  { json: { name: \"Bob\", email: \"invalid-email\" } },\n  { json: { name: \"Charlie\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        192
      ],
      "id": "a702d0c6-cd7a-48ac-a2e5-dd3ab65fe3d5",
      "name": "Input: Email Validation"
    },
    {
      "parameters": {
        "jsCode": "// Handle errors gracefully without breaking the workflow\n\nconst items = $input.all();\nconst results = [];\nconst errors = [];\n\nfor (const item of items) {\n  try {\n    const data = item.json;\n    \n    // Potentially risky operation\n    if (!data.email) {\n      throw new Error(\"Email is required\");\n    }\n    \n    const domain = data.email.split(\"@\")[1];\n    if (!domain) {\n      throw new Error(\"Invalid email format\");\n    }\n    \n    results.push({\n      json: {\n        ...data,\n        domain: domain,\n        processed: true,\n        error: null\n      }\n    });\n    \n  } catch (error) {\n    // Capture error but continue processing\n    errors.push({\n      json: {\n        originalData: item.json,\n        processed: false,\n        error: error.message\n      }\n    });\n  }\n}\n\n// Return both successful and failed items\nreturn [...results, ...errors];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        192
      ],
      "id": "674db8e1-3254-40bf-97bd-a0d80dab1b0f",
      "name": "7.1 Try-Catch for Safe Processing"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users for validation\nreturn [\n  { json: { name: \"Alice\", email: \"alice@test.com\", age: 25 } },\n  { json: { name: \"\", email: \"invalid\", age: 200 } },\n  { json: { email: \"bob@test.com\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        400
      ],
      "id": "2830bf0f-7893-4d5f-8170-baf8f935b4db",
      "name": "Input: Validation Test"
    },
    {
      "parameters": {
        "jsCode": "// Create reusable validation logic\n\nfunction validateItem(data) {\n  const errors = [];\n  \n  if (!data.name || data.name.trim() === \"\") {\n    errors.push(\"Name is required\");\n  }\n  \n  if (!data.email) {\n    errors.push(\"Email is required\");\n  } else if (!data.email.includes(\"@\")) {\n    errors.push(\"Email must be valid\");\n  }\n  \n  if (data.age !== undefined && (data.age < 0 || data.age > 150)) {\n    errors.push(\"Age must be between 0 and 150\");\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors: errors\n  };\n}\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  const validation = validateItem(data);\n  \n  return {\n    json: {\n      ...data,\n      _validation: validation\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        400
      ],
      "id": "7c245e91-8469-48fd-a472-1496e1e03348",
      "name": "7.2 Validation Functions"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Items with types\nreturn [\n  { json: { id: 1, type: \"normal\", data: \"test1\" } },\n  { json: { id: 2, type: \"critical\", data: \"test2\" } },\n  { json: { id: 3, type: \"normal\", data: \"test3\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        592
      ],
      "id": "b62a7563-bc2f-4c22-b5dd-fe8326eae981",
      "name": "Input: Critical Items"
    },
    {
      "parameters": {
        "jsCode": "// Sometimes you WANT to stop the workflow on error\n\nconst items = $input.all();\n\nif (items.length === 0) {\n  throw new Error(\"No items received - cannot continue\");\n}\n\nconst criticalItem = items.find(item => item.json.type === \"critical\");\n\nif (!criticalItem) {\n  throw new Error(\"No critical items found - workflow cannot proceed\");\n}\n\n// Continue with normal processing\nreturn items.map(item => ({\n  json: {\n    ...item.json,\n    processed: true\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        592
      ],
      "id": "10dceaf4-6cbc-40a7-bfca-aa224fb286d7",
      "name": "7.3 Throwing Errors to Stop Workflow"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Items with dates\nreturn [\n  { json: { id: 1, createdAt: \"2025-12-24T10:30:00Z\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        800
      ],
      "id": "7e2e869e-9e62-4100-b33f-30f2d45e2287",
      "name": "Input: Date Items"
    },
    {
      "parameters": {
        "jsCode": "// Date handling for automation workflows\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Parse date string\n  const createdDate = new Date(data.createdAt);\n  const now = new Date();\n  \n  // Calculate differences\n  const ageInMs = now - createdDate;\n  const ageInDays = Math.floor(ageInMs / (1000 * 60 * 60 * 24));\n  const ageInHours = Math.floor(ageInMs / (1000 * 60 * 60));\n  \n  // Format dates\n  const formattedDate = createdDate.toISOString().split(\"T\")[0]; // YYYY-MM-DD\n  const formattedTime = createdDate.toTimeString().split(\" \")[0]; // HH:MM:SS\n  \n  // Add/subtract time\n  const dueDate = new Date(createdDate);\n  dueDate.setDate(dueDate.getDate() + 7); // Add 7 days\n  \n  // Check conditions\n  const isOverdue = now > dueDate;\n  const isWeekend = [0, 6].includes(createdDate.getDay());\n  \n  return {\n    json: {\n      ...data,\n      dateInfo: {\n        original: data.createdAt,\n        formatted: formattedDate,\n        time: formattedTime,\n        ageInDays: ageInDays,\n        ageInHours: ageInHours,\n        dueDate: dueDate.toISOString(),\n        isOverdue: isOverdue,\n        isWeekend: isWeekend,\n        dayOfWeek: createdDate.toLocaleDateString(\"en-US\", { weekday: \"long\" })\n      }\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        800
      ],
      "id": "290d8050-3813-468c-8535-bb19d6097a90",
      "name": "8.1 Working with Dates"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: String manipulation\nreturn [\n  { json: { name: \"  Alice Marie Smith  \", email: \"ALICE@Gmail.com\", description: \"This is a very long description that should be truncated for display purposes\", phone: \"(555) 123-4567\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        992
      ],
      "id": "cd1af2e3-7ed5-46fc-b8a4-11167f528ee3",
      "name": "Input: String Data"
    },
    {
      "parameters": {
        "jsCode": "// Common string operations in workflows\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  const name = data.name || \"\";\n  const email = data.email || \"\";\n  const description = data.description || \"\";\n  \n  return {\n    json: {\n      // Cleaning\n      cleanName: name.trim(),\n      lowerEmail: email.toLowerCase().trim(),\n      \n      // Extracting\n      firstName: name.split(\" \")[0],\n      lastName: name.split(\" \").slice(1).join(\" \"),\n      emailDomain: email.split(\"@\")[1] || \"\",\n      emailUsername: email.split(\"@\")[0] || \"\",\n      \n      // Checking\n      hasDescription: description.length > 0,\n      isGmail: email.toLowerCase().includes(\"gmail.com\"),\n      \n      // Transforming\n      slug: name.toLowerCase().replace(/\\s+/g, \"-\").replace(/[^a-z0-9-]/g, \"\"),\n      initials: name.split(\" \").map(word => word[0]?.toUpperCase()).join(\"\"),\n      truncated: description.length > 50 ? description.substring(0, 50) + \"...\" : description,\n      \n      // Formatting\n      phone: data.phone?.replace(/\\D/g, \"\"), // Remove non-digits\n      formatted: `${name} <${email}>`\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        992
      ],
      "id": "bff90870-d878-486c-b284-16a3a82577c5",
      "name": "8.2 String Manipulation"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Order for templates\nreturn [\n  { json: { name: \"Alice\", orderId: \"ORD-12345\", itemCount: 3, total: 149.99, deliveryDate: \"2026-02-05\", isVIP: true, notes: \"Please gift wrap\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        1200
      ],
      "id": "240baca7-63b5-4b34-b8a5-c091bf0b715f",
      "name": "Input: Order Template"
    },
    {
      "parameters": {
        "jsCode": "// Build formatted messages for notifications\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Simple template\n  const greeting = `Hello ${data.name}, welcome to our platform!`;\n  \n  // Multi-line template\n  const emailBody = `\nDear ${data.name},\n\nYour order #${data.orderId} has been confirmed. \n\nOrder Details:\n- Items: ${data.itemCount}\n- Total: $${data.total.toFixed(2)}\n- Estimated Delivery: ${data.deliveryDate}\n\nThank you for your purchase!\n\nBest regards,\nThe Team\n  `.trim();\n  \n  // Conditional content in templates\n  const slackMessage = `\n*New Order Received* 🛒\n• Customer: ${data.name}\n• Amount: $${data.total.toFixed(2)}\n${data.isVIP ? \"• ⭐ VIP Customer - Priority Handling\" : \"\"}\n${data.notes ? `• Notes: ${data.notes}` : \"\"}\n  `.trim();\n  \n  return {\n    json: {\n      ...data,\n      messages: {\n        greeting: greeting,\n        emailBody: emailBody,\n        slackMessage: slackMessage\n      }\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        1200
      ],
      "id": "ee30e4f4-f8c8-468f-9fe5-fe44268679da",
      "name": "8.3 Template Strings for Messages"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders for best practices\nreturn [\n  { json: { customerName: \"Alice\", amount: 150 } },\n  { json: { customerName: \"Bob\", amount: 50 } },\n  { json: { customerName: \"Charlie\", amount: 200 } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        1392
      ],
      "id": "0f1c0dcf-76ac-4a4d-b6b0-8ba22cce51ba",
      "name": "Input: Orders Names"
    },
    {
      "parameters": {
        "jsCode": "// ✅ GOOD - Clear, descriptive names\nconst allOrders = $input.all();\nconst highValueOrders = allOrders.filter(order => order.json.amount > 100);\nreturn highValueOrders.map(order => ({\n  json: {\n    customerName: order.json.customerName,\n    orderAmount: order.json.amount\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        1392
      ],
      "id": "e10bf45f-1038-49d0-802c-ed560d5ca1de",
      "name": "9.1 Use Meaningful Variable Names"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders with items\nreturn [\n  { json: { id: \"ORD-001\", items: [ { price: 25, quantity: 2 }, { price: 15, quantity: 3 } ] } },\n  { json: { id: \"ORD-002\", items: [ { price: 10, quantity: 1 } ] } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        1600
      ],
      "id": "b173ad2a-e536-4587-bff4-e32ec76b11fb",
      "name": "Input: Orders Items"
    },
    {
      "parameters": {
        "jsCode": "// ✅ GOOD - Separate concerns into functions\n\nfunction calculateOrderTotal(items) {\n  return items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n}\n\nfunction determineShippingTier(total) {\n  if (total > 100) return \"free\";\n  if (total > 50) return \"reduced\";\n  return \"standard\";\n}\n\nfunction formatOrderSummary(order) {\n  const total = calculateOrderTotal(order.items);\n  const shipping = determineShippingTier(total);\n  \n  return {\n    orderId: order.id,\n    subtotal: total,\n    shippingTier: shipping,\n    estimatedTotal: shipping === \"free\" ? total : total + 9.99\n  };\n}\n\nconst items = $input.all();\n\nreturn items.map(item => ({\n  json: formatOrderSummary(item.json)\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4064,
        1600
      ],
      "id": "2455da3f-7d17-4ce6-b66e-1cb8b8f1ecb7",
      "name": "9.2 Break Down Complex Logic"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Orders for comments example\nreturn [\n  { json: { amount: 600, createdAt: \"2026-01-15T10:00:00Z\", firstName: \"Alice\", lastName: \"Smith\" } },\n  { json: { amount: 200, createdAt: \"2026-01-20T14:00:00Z\", fullName: \"Bob Jones\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        0
      ],
      "id": "68841974-10ca-463e-9310-10d337c58ef9",
      "name": "Input: Comments Example"
    },
    {
      "parameters": {
        "jsCode": "// ✅ GOOD - Helpful comments explain WHY, not just WHAT\n\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  // Business rule: Orders over $500 require manager approval\n  const needsApproval = data.amount > 500;\n  \n  // Legacy system expects dates in MM/DD/YYYY format\n  const formattedDate = new Date(data.createdAt)\n    .toLocaleDateString(\"en-US\");\n  \n  // Combine first and last name, handling missing values\n  // Some older records only have fullName field\n  const displayName = data.firstName \n    ? `${data.firstName} ${data.lastName || \"\"}`.trim()\n    : data.fullName || \"Unknown\";\n  \n  return {\n    json: {\n      ...data,\n      needsApproval,\n      formattedDate,\n      displayName\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        0
      ],
      "id": "c0a03f6f-8254-4c75-ab33-710cce6497ef",
      "name": "9.3 Comment Your Code"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Edge cases\nreturn [\n  { json: { name: \"Alice\", email: \"alice@test.com\", tags: [\"vip\", \"active\"], metadata: { source: \"web\" } } },\n  { json: { name: \"  Bob  \" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        208
      ],
      "id": "e947734d-accb-445f-8dc7-9dc3d0848902",
      "name": "Input: Edge Cases"
    },
    {
      "parameters": {
        "jsCode": "// ✅ GOOD - Defensive coding\n\nconst items = $input.all();\n\n// Handle empty input\nif (!items || items.length === 0) {\n  return [{\n    json: {\n      status: \"no_data\",\n      message: \"No items to process\",\n      processedAt: new Date().toISOString()\n    }\n  }];\n}\n\nreturn items.map(item => {\n  const data = item.json || {};\n  \n  // Safe access with defaults\n  const name = data.name?.trim() || \"Unknown\";\n  const email = data.email?.toLowerCase().trim() || null;\n  const tags = Array.isArray(data.tags) ? data.tags : [];\n  const metadata = typeof data.metadata === \"object\" ? data.metadata : {};\n  \n  return {\n    json: {\n      name,\n      email,\n      hasTags: tags.length > 0,\n      tagCount: tags.length,\n      hasMetadata: Object.keys(metadata).length > 0\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        208
      ],
      "id": "c593d5f5-dd38-4208-aa48-67620f516386",
      "name": "9.4 Handle Edge Cases"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Simple items\nreturn [\n  { json: { id: 1, name: \"Item A\" } },\n  { json: { id: 2, name: \"Item B\" } },\n  { json: { id: 3, name: \"Item C\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        400
      ],
      "id": "4b079bb7-5524-4298-b0fa-36304e464b43",
      "name": "Input: Simple Items"
    },
    {
      "parameters": {
        "jsCode": "// ✅ SIMPLE AND CLEAR\nconst items = $input.all();\nreturn items.map((item, index) => ({\n  json: {\n    ...item.json,\n    index\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        400
      ],
      "id": "7e25c008-97a7-4e24-a38c-41bcb0eb5708",
      "name": "9.5 Keep It Simple"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Users\nreturn [\n  { json: { name: \"Alice\", email: \"alice@test.com\" } },\n  { json: { name: \"Bob\", email: \"bob@test.com\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        608
      ],
      "id": "062a1698-2fd1-4a0b-b70a-c5ced250f386",
      "name": "Input: Users Basic"
    },
    {
      "parameters": {
        "jsCode": "// ✅ CORRECT - Proper n8n format with json wrapper\nreturn $input.all().map(item => ({\n  json: {\n    name: item.json.name,\n    email: item.json.email\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        608
      ],
      "id": "bc67c765-f4d9-453c-bace-75eb92e122e6",
      "name": "10.1 Correct JSON Wrapper"
    },
    {
      "parameters": {
        "jsCode": "// ✅ CORRECT - Array of objects with json property\nreturn [{ json: { status: \"success\" } }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        800
      ],
      "id": "965943d8-262a-4d7f-a116-eb5511c1fca8",
      "name": "10.2 Correct Return Type"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Names only\nreturn [\n  { json: { name: \"Alice\" } },\n  { json: { name: \"Bob\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        1008
      ],
      "id": "7707eca7-58e1-45ad-93cf-e5c9c564a3be",
      "name": "Input: Names Only"
    },
    {
      "parameters": {
        "jsCode": "// ✅ CORRECT - Access through item.json\nconst items = $input.all();\nreturn items.map(item => ({\n  json: {\n    name: item.json.name  // Correct!\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        1008
      ],
      "id": "5a02c2ad-ce79-4434-ac37-4ba60f43a2a6",
      "name": "10.3 Access item.json Correctly"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Single name\nreturn [\n  { json: { name: \"Alice\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        1200
      ],
      "id": "3802631a-307a-4788-92b6-15b7597f10ee",
      "name": "Input: Single Name"
    },
    {
      "parameters": {
        "jsCode": "// ✅ CORRECT for \"Run Once for All Items\" mode\nconst items = $input.all();\nconst firstItemName = items[0]?.json.name;\n\nreturn [{\n  json: {\n    firstItemName: firstItemName\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        1200
      ],
      "id": "0b5e3399-2012-4941-9793-000109cbf577",
      "name": "10.4 Correct Mode Usage"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: Mutation test\nreturn [\n  { json: { name: \"Original\", value: 100 } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        1408
      ],
      "id": "c536ad37-cb3e-434e-ab5a-d3e69a45aa5d",
      "name": "Input: Mutation Test"
    },
    {
      "parameters": {
        "jsCode": "// ✅ GOOD PRACTICE - Create new objects (don't mutate)\nconst items = $input.all();\nreturn items.map(item => ({\n  json: {\n    ...item.json,\n    name: \"Modified\"\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        1408
      ],
      "id": "fe24a145-2e94-4eff-9edc-0d43a56fd24a",
      "name": "10.5 Don't Mutate Input Data"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: For empty array handling\nreturn [\n  { json: { id: 1, data: \"test\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4336,
        1600
      ],
      "id": "a21a3632-0469-4c4e-ab80-b66c924185fc",
      "name": "Input: Empty Array Test"
    },
    {
      "parameters": {
        "jsCode": "// ✅ SAFE - Handle empty input\nconst items = $input.all();\nif (items.length === 0) {\n  return [];  // or return a default item\n}\nconst firstItem = items[0].json;\n\nreturn [{\n  json: {\n    firstItem: firstItem\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4544,
        1600
      ],
      "id": "00081381-3cec-4d43-b6e2-a8e2c5b22d25",
      "name": "10.6 Handle Empty Arrays"
    },
    {
      "parameters": {
        "jsCode": "// ═══════════════════════════════════════════════════════════════\n// n8n CODE NODE QUICK REFERENCE\n// ═══════════════════════════════════════════════════════════════\n\n// ─── ACCESSING DATA ───────────────────────────────────────────\n// $input.all()          // All items as array\n// $input.first()        // First item only\n// $input.last()         // Last item only\n// $json                 // Current item data (Each Item mode only)\n// $json.propertyName    // Access specific property\n\n// ─── RETURN FORMAT (ALWAYS REQUIRED) ──────────────────────────\nreturn [{ json: { key: \"value\" } }];  // Single item\n// return items.map(i => ({ json: i.json }));  // Multiple items\n// return [];  // Empty result (stops branch)"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5040,
        -16
      ],
      "id": "8d450116-f831-4688-b615-3d0407e54463",
      "name": "Quick Reference: Accessing Data"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: For transform\nreturn [\n  { json: { id: 1, name: \"Test Item\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4832,
        176
      ],
      "id": "42674dad-af81-46dd-a95f-622162697630",
      "name": "Input: Transform Test"
    },
    {
      "parameters": {
        "jsCode": "// ─── COMMON PATTERNS ──────────────────────────────────────────\n\n// Transform items\nreturn $input.all().map(item => ({\n  json: { ...item.json, newField: \"value\" }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5040,
        176
      ],
      "id": "e9cba16c-5158-46a0-963c-449c44a1703b",
      "name": "Quick Reference: Transform"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: For filter\nreturn [\n  { json: { id: 1, status: \"active\" } },\n  { json: { id: 2, status: \"inactive\" } },\n  { json: { id: 3, status: \"active\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4832,
        384
      ],
      "id": "b8adc54c-9e0b-4c27-a597-e5c64fa4766d",
      "name": "Input: Filter Test"
    },
    {
      "parameters": {
        "jsCode": "// Filter items  \nreturn $input.all()\n  .filter(item => item.json.status === \"active\")\n  .map(item => ({ json: item.json }));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5040,
        384
      ],
      "id": "0846f8da-68ef-4464-9286-3eb8997aebfd",
      "name": "Quick Reference: Filter"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: For aggregate\nreturn [\n  { json: { id: 1, amount: 100 } },\n  { json: { id: 2, amount: 200 } },\n  { json: { id: 3, amount: 150 } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4832,
        576
      ],
      "id": "53854d73-4142-4bd4-876d-846f9cdde7d8",
      "name": "Input: Aggregate Test"
    },
    {
      "parameters": {
        "jsCode": "// Aggregate to single item\nreturn [{\n  json: {\n    total: $input.all().reduce((sum, i) => sum + (i.json.amount || 0), 0)\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5040,
        576
      ],
      "id": "076ff79b-cd11-4fb0-8905-24c3222e4a2f",
      "name": "Quick Reference: Aggregate"
    },
    {
      "parameters": {
        "jsCode": "// Generate test data: For safe access\nreturn [\n  { json: { property: \"actual value\", items: [1, 2, 3] } },\n  { json: { other: \"no property field\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4832,
        784
      ],
      "id": "1e797931-60e9-4ceb-99c1-227f2830db45",
      "name": "Input: Safe Access Test"
    },
    {
      "parameters": {
        "jsCode": "// ─── SAFE DATA ACCESS ─────────────────────────────────────────\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  \n  return {\n    json: {\n      // Optional chaining + nullish coalescing\n      property: data?.property ?? \"default\",\n      // Safe array check\n      items: Array.isArray(data.items) ? data.items : []\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5040,
        784
      ],
      "id": "9c0c1beb-1685-4a72-adb1-e4edf18d31bb",
      "name": "Quick Reference: Safe Data Access"
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Set Example Json",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Example Json": {
      "main": [
        [
          {
            "node": "String_Functions_Summary",
            "type": "main",
            "index": 0
          },
          {
            "node": "Number_Functions_Summary",
            "type": "main",
            "index": 0
          },
          {
            "node": "Array_Functions_Summary",
            "type": "main",
            "index": 0
          },
          {
            "node": "Object_Functions_Summary",
            "type": "main",
            "index": 0
          },
          {
            "node": "Boolean_Functions_Summary",
            "type": "main",
            "index": 0
          },
          {
            "node": "DateTime_Functions_Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Configuration": {
      "main": [
        [
          {
            "node": "Generate Fake Customer Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Fake Customer Data": {
      "main": [
        [
          {
            "node": "Transform Basic Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transform Basic Data": {
      "main": [
        [
          {
            "node": "Calculate Age Groups and Discounts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Fake Orders": {
      "main": [
        [
          {
            "node": "Array Methods - Map Filter Reduce",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Array Methods - Map Filter Reduce": {
      "main": [
        [
          {
            "node": "Route by Order Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route by Order Status": {
      "main": [
        [
          {
            "node": "Merge Customer Data - Pending",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge Customer Data - Shipped",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge Customer Data - Delivered",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Configuration1": {
      "main": [
        [
          {
            "node": "Generate Fake Orders",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Fake Event Registrations": {
      "main": [
        [
          {
            "node": "Initial Field Cleanup",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Initial Field Cleanup": {
      "main": [
        [
          {
            "node": "Validate & Format Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate & Format Data": {
      "main": [
        [
          {
            "node": "Generate Badges & Certificates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Badges & Certificates": {
      "main": [
        [
          {
            "node": "Calculate Reminder Dates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calculate Reminder Dates": {
      "main": [
        [
          {
            "node": "Save to Google Sheets",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send Confirmation Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Workflow Configuration2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Configuration2": {
      "main": [
        [
          {
            "node": "Generate Fake Event Registrations",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Fake CSV Data with Errors": {
      "main": [
        [
          {
            "node": "Validate Data with Try-Catch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate Data with Try-Catch": {
      "main": [
        [
          {
            "node": "Split Valid vs Invalid Records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Valid vs Invalid Records": {
      "main": [
        [
          {
            "node": "Process Valid Records with $input",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Format Error Log",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Valid Records with $input": {
      "main": [
        [
          {
            "node": "Process in Batches with Error Recovery",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process in Batches with Error Recovery": {
      "main": [
        [
          {
            "node": "Batch Processing Logic",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Format Valid Data Output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Batch Processing Logic": {
      "main": [
        [
          {
            "node": "Process in Batches with Error Recovery",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: User Data": {
      "main": [
        [
          {
            "node": "2.1 Using $json (Each Item Mode)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Employees": {
      "main": [
        [
          {
            "node": "2.2 Using $input.all()",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Names": {
      "main": [
        [
          {
            "node": "2.3 Using $input.first() and last()",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Status Items": {
      "main": [
        [
          {
            "node": "3.2 Returning Empty Result",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Users with Emails": {
      "main": [
        [
          {
            "node": "3.3 Preserving Data & Adding Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Full Names": {
      "main": [
        [
          {
            "node": "4.1 Processing Each Item",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Users Age Status": {
      "main": [
        [
          {
            "node": "4.2 Filtering Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Orders": {
      "main": [
        [
          {
            "node": "4.3 Aggregating Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Item with Tags": {
      "main": [
        [
          {
            "node": "4.4 Splitting One Item into Multiple",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Employees Dept": {
      "main": [
        [
          {
            "node": "4.5 Grouping Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Order Amounts": {
      "main": [
        [
          {
            "node": "5.1 Basic Conditionals",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: User Activity": {
      "main": [
        [
          {
            "node": "5.2 Using Ternary Operators",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Nested Data": {
      "main": [
        [
          {
            "node": "5.3 Nullish Coalescing & Optional Chaining",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Orders Routing": {
      "main": [
        [
          {
            "node": "5.4 Routing Logic for IF Nodes",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: API Response": {
      "main": [
        [
          {
            "node": "6.1 Restructuring Objects",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Order Line Items": {
      "main": [
        [
          {
            "node": "6.2 Working with Nested Arrays",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Mixed Types": {
      "main": [
        [
          {
            "node": "6.3 Type Conversion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Sensitive Data": {
      "main": [
        [
          {
            "node": "6.4 Removing and Selecting Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Email Validation": {
      "main": [
        [
          {
            "node": "7.1 Try-Catch for Safe Processing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Validation Test": {
      "main": [
        [
          {
            "node": "7.2 Validation Functions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Critical Items": {
      "main": [
        [
          {
            "node": "7.3 Throwing Errors to Stop Workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Date Items": {
      "main": [
        [
          {
            "node": "8.1 Working with Dates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: String Data": {
      "main": [
        [
          {
            "node": "8.2 String Manipulation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Order Template": {
      "main": [
        [
          {
            "node": "8.3 Template Strings for Messages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Orders Names": {
      "main": [
        [
          {
            "node": "9.1 Use Meaningful Variable Names",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Orders Items": {
      "main": [
        [
          {
            "node": "9.2 Break Down Complex Logic",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Comments Example": {
      "main": [
        [
          {
            "node": "9.3 Comment Your Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Edge Cases": {
      "main": [
        [
          {
            "node": "9.4 Handle Edge Cases",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Simple Items": {
      "main": [
        [
          {
            "node": "9.5 Keep It Simple",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Users Basic": {
      "main": [
        [
          {
            "node": "10.1 Correct JSON Wrapper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Names Only": {
      "main": [
        [
          {
            "node": "10.3 Access item.json Correctly",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Single Name": {
      "main": [
        [
          {
            "node": "10.4 Correct Mode Usage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Mutation Test": {
      "main": [
        [
          {
            "node": "10.5 Don't Mutate Input Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Empty Array Test": {
      "main": [
        [
          {
            "node": "10.6 Handle Empty Arrays",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Transform Test": {
      "main": [
        [
          {
            "node": "Quick Reference: Transform",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Filter Test": {
      "main": [
        [
          {
            "node": "Quick Reference: Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Aggregate Test": {
      "main": [
        [
          {
            "node": "Quick Reference: Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input: Safe Access Test": {
      "main": [
        [
          {
            "node": "Quick Reference: Safe Data Access",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "9802c494-f9b7-4f43-aa24-487d83a3ff7f",
  "meta": {
    "instanceId": "253ebe0fa0889258745727faa7bf3014a33ccdd40ea6f441485c645eb0d410c0"
  },
  "id": "8YETwkLiVbM3jTxR",
  "tags": []
}